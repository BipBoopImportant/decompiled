package N1;

import N1.C4669d;
import N1.C4677l;
import S1.C;
import S1.C4814g;
import S1.C4820m;
import S1.C4830x;
import S1.C4831y;
import U1.e;
import Y1.h;
import Y1.j;
import Y1.k;
import Y1.o;
import Y1.q;
import Y1.s;
import android.graphics.Typeface;
import android.text.Editable;
import android.text.Html;
import android.text.Layout;
import android.text.Spanned;
import android.text.style.AbsoluteSizeSpan;
import android.text.style.AlignmentSpan;
import android.text.style.BackgroundColorSpan;
import android.text.style.ForegroundColorSpan;
import android.text.style.RelativeSizeSpan;
import android.text.style.StrikethroughSpan;
import android.text.style.StyleSpan;
import android.text.style.SubscriptSpan;
import android.text.style.SuperscriptSpan;
import android.text.style.TypefaceSpan;
import android.text.style.URLSpan;
import android.text.style.UnderlineSpan;
import c2.w;
import kotlin.Metadata;
import kotlin.jvm.internal.C17542s;
import kotlin.jvm.internal.DefaultConstructorMarker;
import org.xml.sax.XMLReader;
import p1.C5751x0;
import p1.g1;
import r1.g;

@Metadata(d1 = {"\u0000q\n\u0002\u0018\u0002\n\u0002\u0010\u000e\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0010\u0000\n\u0000\n\u0002\u0010\b\n\u0002\b\u0004\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0018\u0002\n\u0002\b\u0003\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\b\u0004*\u0001(\u001a1\u0010\b\u001a\u00020\u0007*\u00020\u00002\u0006\u0010\u0002\u001a\u00020\u00012\n\b\u0002\u0010\u0004\u001a\u0004\u0018\u00010\u00032\n\b\u0002\u0010\u0006\u001a\u0004\u0018\u00010\u0005¢\u0006\u0004\b\b\u0010\t\u001a+\u0010\u000b\u001a\u00020\u0007*\u00020\n2\n\b\u0002\u0010\u0004\u001a\u0004\u0018\u00010\u00032\n\b\u0002\u0010\u0006\u001a\u0004\u0018\u00010\u0005H\u0001¢\u0006\u0004\b\u000b\u0010\f\u001a/\u0010\u0010\u001a\u00020\u000f*\u00020\r2\u0006\u0010\u000e\u001a\u00020\n2\b\u0010\u0004\u001a\u0004\u0018\u00010\u00032\b\u0010\u0006\u001a\u0004\u0018\u00010\u0005H\u0002¢\u0006\u0004\b\u0010\u0010\u0011\u001a?\u0010\u0017\u001a\u00020\u000f*\u00020\r2\u0006\u0010\u0013\u001a\u00020\u00122\u0006\u0010\u0015\u001a\u00020\u00142\u0006\u0010\u0016\u001a\u00020\u00142\b\u0010\u0004\u001a\u0004\u0018\u00010\u00032\b\u0010\u0006\u001a\u0004\u0018\u00010\u0005H\u0002¢\u0006\u0004\b\u0017\u0010\u0018\u001a\u0013\u0010\u001b\u001a\u00020\u001a*\u00020\u0019H\u0002¢\u0006\u0004\b\u001b\u0010\u001c\u001a\u0015\u0010\u001f\u001a\u0004\u0018\u00010\u001e*\u00020\u001dH\u0002¢\u0006\u0004\b\u001f\u0010 \u001a\u0013\u0010\"\u001a\u00020\u001e*\u00020!H\u0002¢\u0006\u0004\b\"\u0010#\u001a\u001b\u0010&\u001a\u0004\u0018\u00010%2\b\u0010$\u001a\u0004\u0018\u00010\u0001H\u0002¢\u0006\u0004\b&\u0010'\"\u0014\u0010*\u001a\u00020(8\u0002X\u0004¢\u0006\u0006\n\u0004\b\u0017\u0010)¨\u0006+"}, d2 = {"LN1/d$b;", "", "htmlString", "LN1/Q;", "linkStyles", "LN1/m;", "linkInteractionListener", "LN1/d;", "c", "(LN1/d$b;Ljava/lang/String;LN1/Q;LN1/m;)LN1/d;", "Landroid/text/Spanned;", "f", "(Landroid/text/Spanned;LN1/Q;LN1/m;)LN1/d;", "LN1/d$a;", "spanned", "LXH/N;", "b", "(LN1/d$a;Landroid/text/Spanned;LN1/Q;LN1/m;)V", "", "span", "", "start", "end", "a", "(LN1/d$a;Ljava/lang/Object;IILN1/Q;LN1/m;)V", "Landroid/text/style/AlignmentSpan;", "LN1/y;", "g", "(Landroid/text/style/AlignmentSpan;)LN1/y;", "Landroid/text/style/StyleSpan;", "LN1/G;", "h", "(Landroid/text/style/StyleSpan;)LN1/G;", "Landroid/text/style/TypefaceSpan;", "i", "(Landroid/text/style/TypefaceSpan;)LN1/G;", "familyName", "LS1/m;", "e", "(Ljava/lang/String;)LS1/m;", "N1/k$a", "LN1/k$a;", "TagHandler", "ui-text_release"}, k = 2, mv = {1, 8, 0}, xi = 48)
/* renamed from: N1.k  reason: case insensitive filesystem */
public final class C4676k {

    /* renamed from: a  reason: collision with root package name */
    private static final a f9469a = new a();

    @Metadata(d1 = {"\u0000)\n\u0000\n\u0002\u0018\u0002\n\u0002\u0010\u000b\n\u0000\n\u0002\u0010\u000e\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\b\u0003*\u0001\u0000\b\n\u0018\u00002\u00020\u0001J5\u0010\u000b\u001a\u00020\n2\u0006\u0010\u0003\u001a\u00020\u00022\b\u0010\u0005\u001a\u0004\u0018\u00010\u00042\b\u0010\u0007\u001a\u0004\u0018\u00010\u00062\b\u0010\t\u001a\u0004\u0018\u00010\bH\u0016¢\u0006\u0004\b\u000b\u0010\f¨\u0006\r"}, d2 = {"N1/k$a", "Landroid/text/Html$TagHandler;", "", "opening", "", "tag", "Landroid/text/Editable;", "output", "Lorg/xml/sax/XMLReader;", "xmlReader", "LXH/N;", "handleTag", "(ZLjava/lang/String;Landroid/text/Editable;Lorg/xml/sax/XMLReader;)V", "ui-text_release"}, k = 1, mv = {1, 8, 0}, xi = 48)
    /* renamed from: N1.k$a */
    public static final class a implements Html.TagHandler {
        a() {
        }

        public void handleTag(boolean z10, String str, Editable editable, XMLReader xMLReader) {
            if (xMLReader != null && editable != null && z10 && C17542s.e(str, "ContentHandlerReplacementTag")) {
                xMLReader.setContentHandler(new C4671f(xMLReader.getContentHandler(), editable));
            }
        }
    }

    @Metadata(k = 3, mv = {1, 8, 0}, xi = 48)
    /* renamed from: N1.k$b */
    public /* synthetic */ class b {

        /* renamed from: a  reason: collision with root package name */
        public static final /* synthetic */ int[] f9470a;

        /* JADX WARNING: Can't wrap try/catch for region: R(9:0|1|2|3|4|5|6|7|9) */
        /* JADX WARNING: Failed to process nested try/catch */
        /* JADX WARNING: Missing exception handler attribute for start block: B:3:0x0010 */
        /* JADX WARNING: Missing exception handler attribute for start block: B:5:0x0019 */
        static {
            /*
                android.text.Layout$Alignment[] r0 = android.text.Layout.Alignment.values()
                int r0 = r0.length
                int[] r0 = new int[r0]
                android.text.Layout$Alignment r1 = android.text.Layout.Alignment.ALIGN_NORMAL     // Catch:{ NoSuchFieldError -> 0x0010 }
                int r1 = r1.ordinal()     // Catch:{ NoSuchFieldError -> 0x0010 }
                r2 = 1
                r0[r1] = r2     // Catch:{ NoSuchFieldError -> 0x0010 }
            L_0x0010:
                android.text.Layout$Alignment r1 = android.text.Layout.Alignment.ALIGN_CENTER     // Catch:{ NoSuchFieldError -> 0x0019 }
                int r1 = r1.ordinal()     // Catch:{ NoSuchFieldError -> 0x0019 }
                r2 = 2
                r0[r1] = r2     // Catch:{ NoSuchFieldError -> 0x0019 }
            L_0x0019:
                android.text.Layout$Alignment r1 = android.text.Layout.Alignment.ALIGN_OPPOSITE     // Catch:{ NoSuchFieldError -> 0x0022 }
                int r1 = r1.ordinal()     // Catch:{ NoSuchFieldError -> 0x0022 }
                r2 = 3
                r0[r1] = r2     // Catch:{ NoSuchFieldError -> 0x0022 }
            L_0x0022:
                f9470a = r0
                return
            */
            throw new UnsupportedOperationException("Method not decompiled: N1.C4676k.b.<clinit>():void");
        }
    }

    private static final void a(C4669d.a aVar, Object obj, int i10, int i11, Q q10, C4678m mVar) {
        String url;
        C4669d.a aVar2 = aVar;
        Object obj2 = obj;
        int i12 = i10;
        int i13 = i11;
        if (obj2 instanceof AbsoluteSizeSpan) {
            return;
        }
        if (obj2 instanceof AlignmentSpan) {
            aVar2.c(g((AlignmentSpan) obj2), i12, i13);
        } else if (obj2 instanceof C4672g) {
            C4672g gVar = (C4672g) obj2;
            aVar2.b(gVar.a(), gVar.b(), i12, i13);
        } else if (obj2 instanceof BackgroundColorSpan) {
            aVar2.d(new G(0, 0, (C) null, (C4830x) null, (C4831y) null, (C4820m) null, (String) null, 0, (Y1.a) null, (o) null, (e) null, C5751x0.b(((BackgroundColorSpan) obj2).getBackgroundColor()), (k) null, (g1) null, (D) null, (g) null, 63487, (DefaultConstructorMarker) null), i12, i13);
        } else if (obj2 instanceof ForegroundColorSpan) {
            aVar2.d(new G(C5751x0.b(((ForegroundColorSpan) obj2).getForegroundColor()), 0, (C) null, (C4830x) null, (C4831y) null, (C4820m) null, (String) null, 0, (Y1.a) null, (o) null, (e) null, 0, (k) null, (g1) null, (D) null, (g) null, 65534, (DefaultConstructorMarker) null), i12, i13);
        } else if (obj2 instanceof RelativeSizeSpan) {
            aVar2.d(new G(0, w.e(((RelativeSizeSpan) obj2).getSizeChange()), (C) null, (C4830x) null, (C4831y) null, (C4820m) null, (String) null, 0, (Y1.a) null, (o) null, (e) null, 0, (k) null, (g1) null, (D) null, (g) null, 65533, (DefaultConstructorMarker) null), i12, i13);
        } else if (obj2 instanceof StrikethroughSpan) {
            aVar2.d(new G(0, 0, (C) null, (C4830x) null, (C4831y) null, (C4820m) null, (String) null, 0, (Y1.a) null, (o) null, (e) null, 0, k.f14792b.b(), (g1) null, (D) null, (g) null, 61439, (DefaultConstructorMarker) null), i12, i13);
        } else if (obj2 instanceof StyleSpan) {
            G h10 = h((StyleSpan) obj2);
            if (h10 != null) {
                aVar2.d(h10, i12, i13);
            }
        } else if (obj2 instanceof SubscriptSpan) {
            aVar2.d(new G(0, 0, (C) null, (C4830x) null, (C4831y) null, (C4820m) null, (String) null, 0, Y1.a.d(Y1.a.f14735b.b()), (o) null, (e) null, 0, (k) null, (g1) null, (D) null, (g) null, 65279, (DefaultConstructorMarker) null), i12, i13);
        } else if (obj2 instanceof SuperscriptSpan) {
            aVar2.d(new G(0, 0, (C) null, (C4830x) null, (C4831y) null, (C4820m) null, (String) null, 0, Y1.a.d(Y1.a.f14735b.c()), (o) null, (e) null, 0, (k) null, (g1) null, (D) null, (g) null, 65279, (DefaultConstructorMarker) null), i12, i13);
        } else if (obj2 instanceof TypefaceSpan) {
            aVar2.d(i((TypefaceSpan) obj2), i12, i13);
        } else if (obj2 instanceof UnderlineSpan) {
            aVar2.d(new G(0, 0, (C) null, (C4830x) null, (C4831y) null, (C4820m) null, (String) null, 0, (Y1.a) null, (o) null, (e) null, 0, k.f14792b.d(), (g1) null, (D) null, (g) null, 61439, (DefaultConstructorMarker) null), i12, i13);
        } else if ((obj2 instanceof URLSpan) && (url = ((URLSpan) obj2).getURL()) != null) {
            aVar2.a(new C4677l.b(url, q10, mVar), i12, i13);
        }
    }

    private static final void b(C4669d.a aVar, Spanned spanned, Q q10, C4678m mVar) {
        for (Object obj : spanned.getSpans(0, aVar.k(), Object.class)) {
            long b10 = X.b(spanned.getSpanStart(obj), spanned.getSpanEnd(obj));
            a(aVar, obj, W.n(b10), W.i(b10), q10, mVar);
        }
    }

    public static final C4669d c(C4669d.b bVar, String str, Q q10, C4678m mVar) {
        return f(G2.b.b("<ContentHandlerReplacementTag />" + str, 63, (Html.ImageGetter) null, f9469a), q10, mVar);
    }

    public static /* synthetic */ C4669d d(C4669d.b bVar, String str, Q q10, C4678m mVar, int i10, Object obj) {
        if ((i10 & 2) != 0) {
            q10 = null;
        }
        if ((i10 & 4) != 0) {
            mVar = null;
        }
        return c(bVar, str, q10, mVar);
    }

    private static final C4820m e(String str) {
        if (str == null || str.length() == 0) {
            return null;
        }
        Typeface create = Typeface.create(str, 0);
        Typeface typeface = Typeface.DEFAULT;
        if (C17542s.e(create, typeface) || C17542s.e(create, Typeface.create(typeface, 0))) {
            create = null;
        }
        if (create != null) {
            return C4814g.a(create);
        }
        return null;
    }

    public static final C4669d f(Spanned spanned, Q q10, C4678m mVar) {
        C4669d.a f10 = new C4669d.a(spanned.length()).append(spanned);
        b(f10, spanned, q10, mVar);
        return f10.q();
    }

    private static final C4689y g(AlignmentSpan alignmentSpan) {
        Layout.Alignment alignment = alignmentSpan.getAlignment();
        int i10 = alignment == null ? -1 : b.f9470a[alignment.ordinal()];
        return new C4689y(i10 != 1 ? i10 != 2 ? i10 != 3 ? j.f14783b.g() : j.f14783b.b() : j.f14783b.a() : j.f14783b.f(), 0, 0, (q) null, (C) null, (h) null, 0, 0, (s) null, 510, (DefaultConstructorMarker) null);
    }

    private static final G h(StyleSpan styleSpan) {
        int style = styleSpan.getStyle();
        if (style == 1) {
            return new G(0, 0, C.f13316b.a(), (C4830x) null, (C4831y) null, (C4820m) null, (String) null, 0, (Y1.a) null, (o) null, (e) null, 0, (k) null, (g1) null, (D) null, (g) null, 65531, (DefaultConstructorMarker) null);
        }
        if (style == 2) {
            return new G(0, 0, (C) null, C4830x.c(C4830x.f13449b.a()), (C4831y) null, (C4820m) null, (String) null, 0, (Y1.a) null, (o) null, (e) null, 0, (k) null, (g1) null, (D) null, (g) null, 65527, (DefaultConstructorMarker) null);
        }
        if (style != 3) {
            return null;
        }
        return new G(0, 0, C.f13316b.a(), C4830x.c(C4830x.f13449b.a()), (C4831y) null, (C4820m) null, (String) null, 0, (Y1.a) null, (o) null, (e) null, 0, (k) null, (g1) null, (D) null, (g) null, 65523, (DefaultConstructorMarker) null);
    }

    private static final G i(TypefaceSpan typefaceSpan) {
        String family = typefaceSpan.getFamily();
        C4820m.a aVar = C4820m.f13418b;
        return new G(0, 0, (C) null, (C4830x) null, (C4831y) null, C17542s.e(family, aVar.a().q()) ? aVar.a() : C17542s.e(family, aVar.c().q()) ? aVar.c() : C17542s.e(family, aVar.d().q()) ? aVar.d() : C17542s.e(family, aVar.e().q()) ? aVar.e() : e(typefaceSpan.getFamily()), (String) null, 0, (Y1.a) null, (o) null, (e) null, 0, (k) null, (g1) null, (D) null, (g) null, 65503, (DefaultConstructorMarker) null);
    }
}
