package vH;

import AH.C15412c;
import AH.C15415f;
import EH.C15596A;
import EH.C15597B;
import EH.C15600E;
import EH.C15602G;
import EH.C15608M;
import EH.C15610O;
import EH.C15612Q;
import EH.C15628m;
import EH.C15634s;
import JH.C15954a;
import JH.C15955b;
import JH.d;
import JH.z;
import NH.e;
import XH.C16807N;
import XH.y;
import YH.C16877v;
import dI.C17164e;
import eI.C17187b;
import java.util.List;
import java.util.Map;
import kotlin.Metadata;
import kotlin.coroutines.jvm.internal.f;
import kotlin.coroutines.jvm.internal.l;
import kotlin.jvm.internal.C17542s;
import kotlin.jvm.internal.DefaultConstructorMarker;
import nI.C17642l;
import nI.q;
import org.slf4j.Logger;
import pH.C17746a;

@Metadata(d1 = {"\u0000\u0018\n\u0002\u0018\u0002\n\u0002\u0010\u0000\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0002\b\u0007\u0018\u0000 \n2\u00020\u0001:\u0002\b\nB\u001d\b\u0002\u0012\u0012\u0010\u0005\u001a\u000e\u0012\u0004\u0012\u00020\u0003\u0012\u0004\u0012\u00020\u00040\u0002¢\u0006\u0004\b\u0006\u0010\u0007R \u0010\u0005\u001a\u000e\u0012\u0004\u0012\u00020\u0003\u0012\u0004\u0012\u00020\u00040\u00028\u0002X\u0004¢\u0006\u0006\n\u0004\b\b\u0010\t¨\u0006\u000b"}, d2 = {"LvH/d;", "", "Lkotlin/Function1;", "LvH/d$a;", "LXH/N;", "block", "<init>", "(LnI/l;)V", "a", "LnI/l;", "b", "ktor-client-core"}, k = 1, mv = {1, 8, 0}, xi = 48)
/* renamed from: vH.d  reason: case insensitive filesystem */
public final class C18165d {

    /* renamed from: b  reason: collision with root package name */
    public static final b f148856b = new b((DefaultConstructorMarker) null);
    /* access modifiers changed from: private */

    /* renamed from: c  reason: collision with root package name */
    public static final C15954a<C18165d> f148857c = new C15954a<>("DefaultRequest");
    /* access modifiers changed from: private */

    /* renamed from: a  reason: collision with root package name */
    public final C17642l<a, C16807N> f148858a;

    @Metadata(d1 = {"\u0000$\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0018\u0002\n\u0002\b\u0004\n\u0002\u0018\u0002\n\u0002\b\u0005\n\u0002\u0018\u0002\n\u0002\b\u0004\b\u0007\u0018\u00002\u00020\u0001B\t\b\u0000¢\u0006\u0004\b\u0002\u0010\u0003R\u001a\u0010\b\u001a\u00020\u00048\u0016X\u0004¢\u0006\f\n\u0004\b\u0005\u0010\u0006\u001a\u0004\b\u0005\u0010\u0007R\u0017\u0010\u000e\u001a\u00020\t8\u0006¢\u0006\f\n\u0004\b\n\u0010\u000b\u001a\u0004\b\f\u0010\rR\u0017\u0010\u0012\u001a\u00020\u000f8\u0006¢\u0006\f\n\u0004\b\f\u0010\u0010\u001a\u0004\b\n\u0010\u0011¨\u0006\u0013"}, d2 = {"LvH/d$a;", "LEH/s;", "<init>", "()V", "LEH/m;", "a", "LEH/m;", "()LEH/m;", "headers", "LEH/G;", "b", "LEH/G;", "c", "()LEH/G;", "url", "LJH/b;", "LJH/b;", "()LJH/b;", "attributes", "ktor-client-core"}, k = 1, mv = {1, 8, 0}, xi = 48)
    /* renamed from: vH.d$a */
    public static final class a implements C15634s {

        /* renamed from: a  reason: collision with root package name */
        private final C15628m f148859a = new C15628m(0, 1, (DefaultConstructorMarker) null);

        /* renamed from: b  reason: collision with root package name */
        private final C15602G f148860b = new C15602G((C15608M) null, (String) null, 0, (String) null, (String) null, (List) null, (C15596A) null, (String) null, false, 511, (DefaultConstructorMarker) null);

        /* renamed from: c  reason: collision with root package name */
        private final C15955b f148861c = d.a(true);

        public a() {
        }

        public C15628m a() {
            return this.f148859a;
        }

        public final C15955b b() {
            return this.f148861c;
        }

        public final C15602G c() {
            return this.f148860b;
        }
    }

    @Metadata(d1 = {"\u0000L\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0010 \n\u0002\u0010\u000e\n\u0002\b\u0004\n\u0002\u0018\u0002\n\u0002\b\u0004\n\u0002\u0018\u0002\n\u0002\b\u0003\n\u0002\u0018\u0002\n\u0002\b\u0005\b\u0003\u0018\u00002\u000e\u0012\u0004\u0012\u00020\u0002\u0012\u0004\u0012\u00020\u00030\u0001B\t\b\u0002¢\u0006\u0004\b\u0004\u0010\u0005J\u001f\u0010\u000b\u001a\u00020\n2\u0006\u0010\u0007\u001a\u00020\u00062\u0006\u0010\t\u001a\u00020\bH\u0002¢\u0006\u0004\b\u000b\u0010\fJ1\u0010\u0011\u001a\b\u0012\u0004\u0012\u00020\u000e0\r2\f\u0010\u000f\u001a\b\u0012\u0004\u0012\u00020\u000e0\r2\f\u0010\u0010\u001a\b\u0012\u0004\u0012\u00020\u000e0\rH\u0002¢\u0006\u0004\b\u0011\u0010\u0012J#\u0010\u0015\u001a\u00020\u00032\u0012\u0010\u0014\u001a\u000e\u0012\u0004\u0012\u00020\u0002\u0012\u0004\u0012\u00020\n0\u0013H\u0016¢\u0006\u0004\b\u0015\u0010\u0016J\u001f\u0010\u001a\u001a\u00020\n2\u0006\u0010\u0017\u001a\u00020\u00032\u0006\u0010\u0019\u001a\u00020\u0018H\u0016¢\u0006\u0004\b\u001a\u0010\u001bR \u0010\u001d\u001a\b\u0012\u0004\u0012\u00020\u00030\u001c8\u0016X\u0004¢\u0006\f\n\u0004\b\u001d\u0010\u001e\u001a\u0004\b\u001f\u0010 ¨\u0006!"}, d2 = {"LvH/d$b;", "LvH/m;", "LvH/d$a;", "LvH/d;", "<init>", "()V", "LEH/Q;", "baseUrl", "LEH/G;", "requestUrl", "LXH/N;", "f", "(LEH/Q;LEH/G;)V", "", "", "parent", "child", "d", "(Ljava/util/List;Ljava/util/List;)Ljava/util/List;", "Lkotlin/Function1;", "block", "g", "(LnI/l;)LvH/d;", "plugin", "LpH/a;", "scope", "e", "(LvH/d;LpH/a;)V", "LJH/a;", "key", "LJH/a;", "getKey", "()LJH/a;", "ktor-client-core"}, k = 1, mv = {1, 8, 0}, xi = 48)
    /* renamed from: vH.d$b */
    public static final class b implements C18174m<a, C18165d> {

        @Metadata(d1 = {"\u0000\u0016\n\u0002\u0018\u0002\n\u0002\u0010\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\b\u0002\u0010\u0005\u001a\u00020\u0004*\u000e\u0012\u0004\u0012\u00020\u0001\u0012\u0004\u0012\u00020\u00020\u00002\u0006\u0010\u0003\u001a\u00020\u0001H@¢\u0006\u0004\b\u0005\u0010\u0006"}, d2 = {"LNH/e;", "", "LAH/c;", "it", "LXH/N;", "<anonymous>", "(LNH/e;Ljava/lang/Object;)V"}, k = 3, mv = {1, 8, 0})
        @f(c = "io.ktor.client.plugins.DefaultRequest$Plugin$install$1", f = "DefaultRequest.kt", l = {}, m = "invokeSuspend")
        /* renamed from: vH.d$b$a */
        static final class a extends l implements q<e<Object, C15412c>, Object, C17164e<? super C16807N>, Object> {

            /* renamed from: c  reason: collision with root package name */
            int f148862c;

            /* renamed from: d  reason: collision with root package name */
            private /* synthetic */ Object f148863d;

            /* renamed from: e  reason: collision with root package name */
            final /* synthetic */ C18165d f148864e;

            /* JADX INFO: super call moved to the top of the method (can break code semantics) */
            a(C18165d dVar, C17164e<? super a> eVar) {
                super(3, eVar);
                this.f148864e = dVar;
            }

            /* renamed from: i */
            public final Object invoke(e<Object, C15412c> eVar, Object obj, C17164e<? super C16807N> eVar2) {
                a aVar = new a(this.f148864e, eVar2);
                aVar.f148863d = eVar;
                return aVar.invokeSuspend(C16807N.f139792a);
            }

            public final Object invokeSuspend(Object obj) {
                C17187b.f();
                if (this.f148862c == 0) {
                    y.b(obj);
                    e eVar = (e) this.f148863d;
                    String g10 = ((C15412c) eVar.b()).i().toString();
                    a aVar = new a();
                    C18165d dVar = this.f148864e;
                    z.c(aVar.a(), ((C15412c) eVar.b()).a());
                    dVar.f148858a.invoke(aVar);
                    C18165d.f148856b.f(aVar.c().b(), ((C15412c) eVar.b()).i());
                    for (C15954a aVar2 : aVar.b().g()) {
                        if (!((C15412c) eVar.b()).c().f(aVar2)) {
                            C15955b c10 = ((C15412c) eVar.b()).c();
                            C17542s.h(aVar2, "null cannot be cast to non-null type io.ktor.util.AttributeKey<kotlin.Any>");
                            c10.c(aVar2, aVar.b().a(aVar2));
                        }
                    }
                    ((C15412c) eVar.b()).a().clear();
                    ((C15412c) eVar.b()).a().d(aVar.a().p());
                    Logger a10 = C18166e.f148865a;
                    a10.trace("Applied DefaultRequest to " + g10 + ". New url: " + ((C15412c) eVar.b()).i());
                    return C16807N.f139792a;
                }
                throw new IllegalStateException("call to 'resume' before 'invoke' with coroutine");
            }
        }

        public /* synthetic */ b(DefaultConstructorMarker defaultConstructorMarker) {
            this();
        }

        private final List<String> d(List<String> list, List<String> list2) {
            if (list2.isEmpty()) {
                return list;
            }
            if (list.isEmpty() || ((CharSequence) C16877v.w0(list2)).length() == 0) {
                return list2;
            }
            List d10 = C16877v.d((list.size() + list2.size()) - 1);
            int size = list.size() - 1;
            for (int i10 = 0; i10 < size; i10++) {
                d10.add(list.get(i10));
            }
            d10.addAll(list2);
            return C16877v.a(d10);
        }

        /* access modifiers changed from: private */
        public final void f(C15612Q q10, C15602G g10) {
            if (C17542s.e(g10.o(), C15608M.f133938c.c())) {
                g10.y(q10.k());
            }
            if (g10.j().length() <= 0) {
                C15602G a10 = C15610O.a(q10);
                a10.y(g10.o());
                if (g10.n() != 0) {
                    a10.x(g10.n());
                }
                a10.u(C18165d.f148856b.d(a10.g(), g10.g()));
                if (g10.d().length() > 0) {
                    a10.r(g10.d());
                }
                C15597B b10 = C15600E.b(0, 1, (Object) null);
                z.c(b10, a10.e());
                a10.s(g10.e());
                for (Map.Entry entry : b10.a()) {
                    String str = (String) entry.getKey();
                    List list = (List) entry.getValue();
                    if (!a10.e().contains(str)) {
                        a10.e().e(str, list);
                    }
                }
                C15610O.h(g10, a10);
            }
        }

        /* renamed from: e */
        public void b(C18165d dVar, C17746a aVar) {
            C17542s.j(dVar, "plugin");
            C17542s.j(aVar, "scope");
            aVar.i().l(C15415f.f132953h.a(), new a(dVar, (C17164e<? super a>) null));
        }

        /* renamed from: g */
        public C18165d a(C17642l<? super a, C16807N> lVar) {
            C17542s.j(lVar, "block");
            return new C18165d(lVar, (DefaultConstructorMarker) null);
        }

        public C15954a<C18165d> getKey() {
            return C18165d.f148857c;
        }

        private b() {
        }
    }

    public /* synthetic */ C18165d(C17642l lVar, DefaultConstructorMarker defaultConstructorMarker) {
        this(lVar);
    }

    private C18165d(C17642l<? super a, C16807N> lVar) {
        this.f148858a = lVar;
    }
}
