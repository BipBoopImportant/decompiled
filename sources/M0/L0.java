package m0;

import j0.C5457m;
import j0.C5459o;
import kotlin.Metadata;
import kotlin.jvm.internal.C17542s;
import kotlin.jvm.internal.DefaultConstructorMarker;
import m0.C5562q;

@Metadata(d1 = {"\u0000l\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0000\n\u0002\u0010\b\n\u0002\b\u0002\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\b\u0006\n\u0002\u0018\u0002\n\u0002\b\u0003\n\u0002\u0010\u0007\n\u0002\b\u0003\n\u0002\u0010\u000b\n\u0002\b\u0005\n\u0002\u0010\t\n\u0002\b\r\n\u0002\u0010\u0015\n\u0002\b\u0003\n\u0002\u0010\u0014\n\u0002\b\f\n\u0002\u0018\u0002\n\u0002\b\u0004\b\u0007\u0018\u0000*\b\b\u0000\u0010\u0002*\u00020\u00012\b\u0012\u0004\u0012\u00028\u00000\u0003BE\b\u0000\u0012\u0006\u0010\u0005\u001a\u00020\u0004\u0012\u0012\u0010\b\u001a\u000e\u0012\n\u0012\b\u0012\u0004\u0012\u00028\u00000\u00070\u0006\u0012\u0006\u0010\n\u001a\u00020\t\u0012\u0006\u0010\u000b\u001a\u00020\t\u0012\u0006\u0010\r\u001a\u00020\f\u0012\u0006\u0010\u000f\u001a\u00020\u000e¢\u0006\u0004\b\u0010\u0010\u0011J'\u0010\u0016\u001a\u00020\u00152\u0006\u0010\u0012\u001a\u00028\u00002\u0006\u0010\u0013\u001a\u00028\u00002\u0006\u0010\u0014\u001a\u00028\u0000H\u0002¢\u0006\u0004\b\u0016\u0010\u0017J\u0017\u0010\u001a\u001a\u00020\u00192\u0006\u0010\u0018\u001a\u00020\tH\u0002¢\u0006\u0004\b\u001a\u0010\u001bJ'\u0010\u001f\u001a\u00020\u00192\u0006\u0010\u001c\u001a\u00020\t2\u0006\u0010\u0018\u001a\u00020\t2\u0006\u0010\u001e\u001a\u00020\u001dH\u0002¢\u0006\u0004\b\u001f\u0010 J\u0017\u0010!\u001a\u00020\t2\u0006\u0010\u0018\u001a\u00020\tH\u0002¢\u0006\u0004\b!\u0010\"J/\u0010%\u001a\u00028\u00002\u0006\u0010$\u001a\u00020#2\u0006\u0010\u0012\u001a\u00028\u00002\u0006\u0010\u0013\u001a\u00028\u00002\u0006\u0010\u0014\u001a\u00028\u0000H\u0016¢\u0006\u0004\b%\u0010&J/\u0010'\u001a\u00028\u00002\u0006\u0010$\u001a\u00020#2\u0006\u0010\u0012\u001a\u00028\u00002\u0006\u0010\u0013\u001a\u00028\u00002\u0006\u0010\u0014\u001a\u00028\u0000H\u0016¢\u0006\u0004\b'\u0010&R\u0014\u0010\u0005\u001a\u00020\u00048\u0002X\u0004¢\u0006\u0006\n\u0004\b(\u0010)R \u0010\b\u001a\u000e\u0012\n\u0012\b\u0012\u0004\u0012\u00028\u00000\u00070\u00068\u0002X\u0004¢\u0006\u0006\n\u0004\b*\u0010+R\u001a\u0010\n\u001a\u00020\t8\u0016X\u0004¢\u0006\f\n\u0004\b,\u0010-\u001a\u0004\b*\u0010.R\u001a\u0010\u000b\u001a\u00020\t8\u0016X\u0004¢\u0006\f\n\u0004\b%\u0010-\u001a\u0004\b/\u0010.R\u0014\u0010\r\u001a\u00020\f8\u0002X\u0004¢\u0006\u0006\n\u0004\b'\u00100R\u001a\u0010\u000f\u001a\u00020\u000e8\u0002X\u0004ø\u0001\u0000ø\u0001\u0001¢\u0006\u0006\n\u0004\b/\u0010-R\u0016\u00104\u001a\u0002018\u0002@\u0002X.¢\u0006\u0006\n\u0004\b2\u00103R\u0016\u00107\u001a\u0002058\u0002@\u0002X.¢\u0006\u0006\n\u0004\b!\u00106R\u0016\u00109\u001a\u00028\u00008\u0002@\u0002X.¢\u0006\u0006\n\u0004\b\u001a\u00108R\u0016\u0010:\u001a\u00028\u00008\u0002@\u0002X.¢\u0006\u0006\n\u0004\b\u001f\u00108R\u0016\u0010;\u001a\u00028\u00008\u0002@\u0002X.¢\u0006\u0006\n\u0004\b\u0016\u00108R\u0016\u0010=\u001a\u00028\u00008\u0002@\u0002X.¢\u0006\u0006\n\u0004\b<\u00108R\u0016\u0010?\u001a\u0002058\u0002@\u0002X.¢\u0006\u0006\n\u0004\b>\u00106R\u0016\u0010A\u001a\u0002058\u0002@\u0002X.¢\u0006\u0006\n\u0004\b@\u00106R\u0016\u0010E\u001a\u00020B8\u0002@\u0002X.¢\u0006\u0006\n\u0004\bC\u0010D\u0002\u000b\n\u0005\b¡\u001e0\u0001\n\u0002\b!¨\u0006F"}, d2 = {"Lm0/L0;", "Lm0/q;", "V", "Lm0/F0;", "Lj0/m;", "timestamps", "Lj0/o;", "Lm0/K0;", "keyframes", "", "durationMillis", "delayMillis", "Lm0/D;", "defaultEasing", "Lm0/t;", "initialArcMode", "<init>", "(Lj0/m;Lj0/o;IILm0/D;ILkotlin/jvm/internal/DefaultConstructorMarker;)V", "initialValue", "targetValue", "initialVelocity", "LXH/N;", "k", "(Lm0/q;Lm0/q;Lm0/q;)V", "timeMillis", "", "i", "(I)F", "index", "", "asFraction", "j", "(IIZ)F", "h", "(I)I", "", "playTimeNanos", "d", "(JLm0/q;Lm0/q;Lm0/q;)Lm0/q;", "e", "a", "Lj0/m;", "b", "Lj0/o;", "c", "I", "()I", "f", "Lm0/D;", "", "g", "[I", "modes", "", "[F", "times", "Lm0/q;", "valueVector", "velocityVector", "lastInitialValue", "l", "lastTargetValue", "m", "posArray", "n", "slopeArray", "Lm0/u;", "o", "Lm0/u;", "arcSpline", "animation-core_release"}, k = 1, mv = {1, 8, 0}, xi = 48)
public final class L0<V extends C5562q> implements F0<V> {

    /* renamed from: a  reason: collision with root package name */
    private final C5457m f25585a;

    /* renamed from: b  reason: collision with root package name */
    private final C5459o<K0<V>> f25586b;

    /* renamed from: c  reason: collision with root package name */
    private final int f25587c;

    /* renamed from: d  reason: collision with root package name */
    private final int f25588d;

    /* renamed from: e  reason: collision with root package name */
    private final C5525D f25589e;

    /* renamed from: f  reason: collision with root package name */
    private final int f25590f;

    /* renamed from: g  reason: collision with root package name */
    private int[] f25591g;

    /* renamed from: h  reason: collision with root package name */
    private float[] f25592h;

    /* renamed from: i  reason: collision with root package name */
    private V f25593i;

    /* renamed from: j  reason: collision with root package name */
    private V f25594j;

    /* renamed from: k  reason: collision with root package name */
    private V f25595k;

    /* renamed from: l  reason: collision with root package name */
    private V f25596l;

    /* renamed from: m  reason: collision with root package name */
    private float[] f25597m;

    /* renamed from: n  reason: collision with root package name */
    private float[] f25598n;

    /* renamed from: o  reason: collision with root package name */
    private C5565u f25599o;

    public /* synthetic */ L0(C5457m mVar, C5459o oVar, int i10, int i11, C5525D d10, int i12, DefaultConstructorMarker defaultConstructorMarker) {
        this(mVar, oVar, i10, i11, d10, i12);
    }

    private final int h(int i10) {
        int b10 = Y.b(this.f25585a, i10, 0, 0, 6, (Object) null);
        return b10 < -1 ? -(b10 + 2) : b10;
    }

    private final float i(int i10) {
        return j(h(i10), i10, false);
    }

    private final float j(int i10, int i11, boolean z10) {
        C5525D d10;
        float f10;
        C5457m mVar = this.f25585a;
        if (i10 >= mVar.f24631b - 1) {
            f10 = (float) i11;
        } else {
            int a10 = mVar.a(i10);
            int a11 = this.f25585a.a(i10 + 1);
            if (i11 == a10) {
                f10 = (float) a10;
            } else {
                int i12 = a11 - a10;
                K0 c10 = this.f25586b.c(a10);
                if (c10 == null || (d10 = c10.b()) == null) {
                    d10 = this.f25589e;
                }
                float f11 = (float) i12;
                float a12 = d10.a(((float) (i11 - a10)) / f11);
                if (z10) {
                    return a12;
                }
                f10 = (f11 * a12) + ((float) a10);
            }
        }
        return f10 / ((float) 1000);
    }

    private final void k(V v10, V v11, V v12) {
        float[] fArr;
        float[] fArr2;
        boolean z10 = this.f25599o != null;
        if (this.f25593i == null) {
            this.f25593i = r.g(v10);
            this.f25594j = r.g(v12);
            int b10 = this.f25585a.b();
            float[] fArr3 = new float[b10];
            for (int i10 = 0; i10 < b10; i10++) {
                fArr3[i10] = ((float) this.f25585a.a(i10)) / ((float) 1000);
            }
            this.f25592h = fArr3;
            int b11 = this.f25585a.b();
            int[] iArr = new int[b11];
            for (int i11 = 0; i11 < b11; i11++) {
                K0 c10 = this.f25586b.c(this.f25585a.a(i11));
                int a10 = c10 != null ? c10.a() : this.f25590f;
                if (!C5564t.c(a10, C5564t.f25879a.a())) {
                    z10 = true;
                }
                iArr[i11] = a10;
            }
            this.f25591g = iArr;
        }
        if (z10) {
            float[] fArr4 = null;
            if (this.f25599o != null) {
                V v13 = this.f25595k;
                if (v13 == null) {
                    C17542s.z("lastInitialValue");
                    v13 = null;
                }
                if (C17542s.e(v13, v10)) {
                    V v14 = this.f25596l;
                    if (v14 == null) {
                        C17542s.z("lastTargetValue");
                        v14 = null;
                    }
                    if (C17542s.e(v14, v11)) {
                        return;
                    }
                }
            }
            this.f25595k = v10;
            this.f25596l = v11;
            int b12 = (v10.b() % 2) + v10.b();
            this.f25597m = new float[b12];
            this.f25598n = new float[b12];
            int b13 = this.f25585a.b();
            float[][] fArr5 = new float[b13][];
            for (int i12 = 0; i12 < b13; i12++) {
                int a11 = this.f25585a.a(i12);
                if (a11 == 0) {
                    if (!this.f25586b.a(a11)) {
                        fArr = new float[b12];
                        for (int i13 = 0; i13 < b12; i13++) {
                            fArr[i13] = v10.a(i13);
                        }
                        fArr5[i12] = fArr;
                    } else {
                        fArr2 = new float[b12];
                        K0<V> c11 = this.f25586b.c(a11);
                        C17542s.g(c11);
                        C5562q c12 = c11.c();
                        for (int i14 = 0; i14 < b12; i14++) {
                            fArr2[i14] = c12.a(i14);
                        }
                    }
                } else if (a11 != b()) {
                    fArr2 = new float[b12];
                    K0<V> c13 = this.f25586b.c(a11);
                    C17542s.g(c13);
                    C5562q c14 = c13.c();
                    for (int i15 = 0; i15 < b12; i15++) {
                        fArr2[i15] = c14.a(i15);
                    }
                } else if (!this.f25586b.a(a11)) {
                    fArr = new float[b12];
                    for (int i16 = 0; i16 < b12; i16++) {
                        fArr[i16] = v11.a(i16);
                    }
                    fArr5[i12] = fArr;
                } else {
                    fArr2 = new float[b12];
                    K0<V> c15 = this.f25586b.c(a11);
                    C17542s.g(c15);
                    C5562q c16 = c15.c();
                    for (int i17 = 0; i17 < b12; i17++) {
                        fArr2[i17] = c16.a(i17);
                    }
                }
                fArr = fArr2;
                fArr5[i12] = fArr;
            }
            int[] iArr2 = this.f25591g;
            if (iArr2 == null) {
                C17542s.z("modes");
                iArr2 = null;
            }
            float[] fArr6 = this.f25592h;
            if (fArr6 == null) {
                C17542s.z("times");
            } else {
                fArr4 = fArr6;
            }
            this.f25599o = new C5565u(iArr2, fArr4, fArr5);
        }
    }

    public int b() {
        return this.f25587c;
    }

    public V d(long j10, V v10, V v11, V v12) {
        int b10 = (int) D0.b(this, j10 / 1000000);
        if (this.f25586b.a(b10)) {
            K0<V> c10 = this.f25586b.c(b10);
            C17542s.g(c10);
            return c10.c();
        } else if (b10 >= b()) {
            return v11;
        } else {
            if (b10 <= 0) {
                return v10;
            }
            k(v10, v11, v12);
            int i10 = 0;
            if (this.f25599o != null) {
                float i11 = i(b10);
                C5565u uVar = this.f25599o;
                if (uVar == null) {
                    C17542s.z("arcSpline");
                    uVar = null;
                }
                float[] fArr = this.f25597m;
                if (fArr == null) {
                    C17542s.z("posArray");
                    fArr = null;
                }
                uVar.a(i11, fArr);
                float[] fArr2 = this.f25597m;
                if (fArr2 == null) {
                    C17542s.z("posArray");
                    fArr2 = null;
                }
                int length = fArr2.length;
                while (i10 < length) {
                    V v13 = this.f25593i;
                    if (v13 == null) {
                        C17542s.z("valueVector");
                        v13 = null;
                    }
                    float[] fArr3 = this.f25597m;
                    if (fArr3 == null) {
                        C17542s.z("posArray");
                        fArr3 = null;
                    }
                    v13.e(i10, fArr3[i10]);
                    i10++;
                }
                V v14 = this.f25593i;
                if (v14 != null) {
                    return v14;
                }
                C17542s.z("valueVector");
                return null;
            }
            int h10 = h(b10);
            float j11 = j(h10, b10, true);
            int a10 = this.f25585a.a(h10);
            if (this.f25586b.a(a10)) {
                K0<V> c11 = this.f25586b.c(a10);
                C17542s.g(c11);
                v10 = c11.c();
            }
            int a11 = this.f25585a.a(h10 + 1);
            if (this.f25586b.a(a11)) {
                K0<V> c12 = this.f25586b.c(a11);
                C17542s.g(c12);
                v11 = c12.c();
            }
            V v15 = this.f25593i;
            if (v15 == null) {
                C17542s.z("valueVector");
                v15 = null;
            }
            int b11 = v15.b();
            while (i10 < b11) {
                V v16 = this.f25593i;
                if (v16 == null) {
                    C17542s.z("valueVector");
                    v16 = null;
                }
                v16.e(i10, B0.k(v10.a(i10), v11.a(i10), j11));
                i10++;
            }
            V v17 = this.f25593i;
            if (v17 != null) {
                return v17;
            }
            C17542s.z("valueVector");
            return null;
        }
    }

    public V e(long j10, V v10, V v11, V v12) {
        V v13 = v12;
        long b10 = D0.b(this, j10 / 1000000);
        if (b10 < 0) {
            return v13;
        }
        k(v10, v11, v13);
        int i10 = 0;
        if (this.f25599o != null) {
            float i11 = i((int) b10);
            C5565u uVar = this.f25599o;
            if (uVar == null) {
                C17542s.z("arcSpline");
                uVar = null;
            }
            float[] fArr = this.f25598n;
            if (fArr == null) {
                C17542s.z("slopeArray");
                fArr = null;
            }
            uVar.b(i11, fArr);
            float[] fArr2 = this.f25598n;
            if (fArr2 == null) {
                C17542s.z("slopeArray");
                fArr2 = null;
            }
            int length = fArr2.length;
            while (i10 < length) {
                V v14 = this.f25594j;
                if (v14 == null) {
                    C17542s.z("velocityVector");
                    v14 = null;
                }
                float[] fArr3 = this.f25598n;
                if (fArr3 == null) {
                    C17542s.z("slopeArray");
                    fArr3 = null;
                }
                v14.e(i10, fArr3[i10]);
                i10++;
            }
            V v15 = this.f25594j;
            if (v15 != null) {
                return v15;
            }
            C17542s.z("velocityVector");
            return null;
        }
        V v16 = v10;
        V v17 = v11;
        V v18 = v12;
        C5562q d10 = D0.d(this, b10 - 1, v16, v17, v18);
        C5562q d11 = D0.d(this, b10, v16, v17, v18);
        int b11 = d10.b();
        while (i10 < b11) {
            V v19 = this.f25594j;
            if (v19 == null) {
                C17542s.z("velocityVector");
                v19 = null;
            }
            v19.e(i10, (d10.a(i10) - d11.a(i10)) * 1000.0f);
            i10++;
        }
        V v20 = this.f25594j;
        if (v20 != null) {
            return v20;
        }
        C17542s.z("velocityVector");
        return null;
    }

    public int f() {
        return this.f25588d;
    }

    private L0(C5457m mVar, C5459o<K0<V>> oVar, int i10, int i11, C5525D d10, int i12) {
        this.f25585a = mVar;
        this.f25586b = oVar;
        this.f25587c = i10;
        this.f25588d = i11;
        this.f25589e = d10;
        this.f25590f = i12;
    }
}
