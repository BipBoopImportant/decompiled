package GK;

import HK.C15864d;
import XH.C16814e;
import YH.C16877v;
import bI.C17035a;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;
import java.util.Objects;
import javax.net.ssl.SSLSocket;
import kotlin.Metadata;
import kotlin.jvm.internal.C17542s;
import kotlin.jvm.internal.DefaultConstructorMarker;

@Metadata(d1 = {"\u0000H\n\u0002\u0018\u0002\n\u0002\u0010\u0000\n\u0002\u0010\u000b\n\u0002\b\u0002\n\u0002\u0010\u0011\n\u0002\u0010\u000e\n\u0002\b\u0004\n\u0002\u0018\u0002\n\u0002\b\u0004\n\u0002\u0018\u0002\n\u0002\b\b\n\u0002\u0010\b\n\u0002\b\f\n\u0002\u0010 \n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0018\u0002\n\u0002\b\u0003\u0018\u0000 \u00142\u00020\u0001:\u0002\u001e\"B9\b\u0000\u0012\u0006\u0010\u0003\u001a\u00020\u0002\u0012\u0006\u0010\u0004\u001a\u00020\u0002\u0012\u000e\u0010\u0007\u001a\n\u0012\u0004\u0012\u00020\u0006\u0018\u00010\u0005\u0012\u000e\u0010\b\u001a\n\u0012\u0004\u0012\u00020\u0006\u0018\u00010\u0005¢\u0006\u0004\b\t\u0010\nJ\u001f\u0010\u000e\u001a\u00020\u00002\u0006\u0010\f\u001a\u00020\u000b2\u0006\u0010\r\u001a\u00020\u0002H\u0002¢\u0006\u0004\b\u000e\u0010\u000fJ\u001f\u0010\u0011\u001a\u00020\u00102\u0006\u0010\f\u001a\u00020\u000b2\u0006\u0010\r\u001a\u00020\u0002H\u0000¢\u0006\u0004\b\u0011\u0010\u0012J\u0015\u0010\u0014\u001a\u00020\u00022\u0006\u0010\u0013\u001a\u00020\u000b¢\u0006\u0004\b\u0014\u0010\u0015J\u001a\u0010\u0017\u001a\u00020\u00022\b\u0010\u0016\u001a\u0004\u0018\u00010\u0001H\u0002¢\u0006\u0004\b\u0017\u0010\u0018J\u000f\u0010\u001a\u001a\u00020\u0019H\u0016¢\u0006\u0004\b\u001a\u0010\u001bJ\u000f\u0010\u001c\u001a\u00020\u0006H\u0016¢\u0006\u0004\b\u001c\u0010\u001dR\u0017\u0010\u0003\u001a\u00020\u00028\u0007¢\u0006\f\n\u0004\b\u001e\u0010\u001f\u001a\u0004\b \u0010!R\u0017\u0010\u0004\u001a\u00020\u00028\u0007¢\u0006\f\n\u0004\b\"\u0010\u001f\u001a\u0004\b#\u0010!R\u001c\u0010\u0007\u001a\n\u0012\u0004\u0012\u00020\u0006\u0018\u00010\u00058\u0002X\u0004¢\u0006\u0006\n\u0004\b\u0011\u0010$R\u001c\u0010\b\u001a\n\u0012\u0004\u0012\u00020\u0006\u0018\u00010\u00058\u0002X\u0004¢\u0006\u0006\n\u0004\b%\u0010$R\u0019\u0010)\u001a\n\u0012\u0004\u0012\u00020'\u0018\u00010&8G¢\u0006\u0006\u001a\u0004\b%\u0010(R\u0019\u0010,\u001a\n\u0012\u0004\u0012\u00020*\u0018\u00010&8G¢\u0006\u0006\u001a\u0004\b+\u0010(¨\u0006-"}, d2 = {"LGK/l;", "", "", "isTls", "supportsTlsExtensions", "", "", "cipherSuitesAsString", "tlsVersionsAsString", "<init>", "(ZZ[Ljava/lang/String;[Ljava/lang/String;)V", "Ljavax/net/ssl/SSLSocket;", "sslSocket", "isFallback", "g", "(Ljavax/net/ssl/SSLSocket;Z)LGK/l;", "LXH/N;", "c", "(Ljavax/net/ssl/SSLSocket;Z)V", "socket", "e", "(Ljavax/net/ssl/SSLSocket;)Z", "other", "equals", "(Ljava/lang/Object;)Z", "", "hashCode", "()I", "toString", "()Ljava/lang/String;", "a", "Z", "f", "()Z", "b", "h", "[Ljava/lang/String;", "d", "", "LGK/i;", "()Ljava/util/List;", "cipherSuites", "LGK/G;", "i", "tlsVersions", "okhttp"}, k = 1, mv = {1, 8, 0}, xi = 48)
/* renamed from: GK.l  reason: case insensitive filesystem */
public final class C15793l {

    /* renamed from: e  reason: collision with root package name */
    public static final b f135046e = new b((DefaultConstructorMarker) null);

    /* renamed from: f  reason: collision with root package name */
    private static final C15790i[] f135047f;

    /* renamed from: g  reason: collision with root package name */
    private static final C15790i[] f135048g;

    /* renamed from: h  reason: collision with root package name */
    public static final C15793l f135049h;

    /* renamed from: i  reason: collision with root package name */
    public static final C15793l f135050i;

    /* renamed from: j  reason: collision with root package name */
    public static final C15793l f135051j;

    /* renamed from: k  reason: collision with root package name */
    public static final C15793l f135052k = new a(false).a();

    /* renamed from: a  reason: collision with root package name */
    private final boolean f135053a;

    /* renamed from: b  reason: collision with root package name */
    private final boolean f135054b;
    /* access modifiers changed from: private */

    /* renamed from: c  reason: collision with root package name */
    public final String[] f135055c;
    /* access modifiers changed from: private */

    /* renamed from: d  reason: collision with root package name */
    public final String[] f135056d;

    @Metadata(d1 = {"\u0000 \n\u0002\u0018\u0002\n\u0002\u0010\u0000\n\u0002\b\u0002\n\u0002\u0010\u0011\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0018\u0002\n\u0002\b\u0007\b\u0003\u0018\u00002\u00020\u0001B\t\b\u0002¢\u0006\u0004\b\u0002\u0010\u0003R\u001a\u0010\u0006\u001a\b\u0012\u0004\u0012\u00020\u00050\u00048\u0002X\u0004¢\u0006\u0006\n\u0004\b\u0006\u0010\u0007R\u0014\u0010\t\u001a\u00020\b8\u0006X\u0004¢\u0006\u0006\n\u0004\b\t\u0010\nR\u0014\u0010\u000b\u001a\u00020\b8\u0006X\u0004¢\u0006\u0006\n\u0004\b\u000b\u0010\nR\u0014\u0010\f\u001a\u00020\b8\u0006X\u0004¢\u0006\u0006\n\u0004\b\f\u0010\nR\u001a\u0010\r\u001a\b\u0012\u0004\u0012\u00020\u00050\u00048\u0002X\u0004¢\u0006\u0006\n\u0004\b\r\u0010\u0007R\u0014\u0010\u000e\u001a\u00020\b8\u0006X\u0004¢\u0006\u0006\n\u0004\b\u000e\u0010\n¨\u0006\u000f"}, d2 = {"LGK/l$b;", "", "<init>", "()V", "", "LGK/i;", "APPROVED_CIPHER_SUITES", "[LGK/i;", "LGK/l;", "CLEARTEXT", "LGK/l;", "COMPATIBLE_TLS", "MODERN_TLS", "RESTRICTED_CIPHER_SUITES", "RESTRICTED_TLS", "okhttp"}, k = 1, mv = {1, 8, 0}, xi = 48)
    /* renamed from: GK.l$b */
    public static final class b {
        public /* synthetic */ b(DefaultConstructorMarker defaultConstructorMarker) {
            this();
        }

        private b() {
        }
    }

    static {
        C15790i iVar = C15790i.f135017o1;
        C15790i iVar2 = C15790i.f135020p1;
        C15790i iVar3 = C15790i.f135023q1;
        C15790i iVar4 = C15790i.f134975a1;
        C15790i iVar5 = C15790i.f134987e1;
        C15790i iVar6 = C15790i.f134978b1;
        C15790i iVar7 = C15790i.f134990f1;
        C15790i iVar8 = C15790i.f135008l1;
        C15790i iVar9 = C15790i.f135005k1;
        C15790i iVar10 = iVar;
        C15790i iVar11 = iVar2;
        C15790i iVar12 = iVar3;
        C15790i iVar13 = iVar4;
        C15790i iVar14 = iVar5;
        C15790i iVar15 = iVar6;
        C15790i iVar16 = iVar7;
        C15790i iVar17 = iVar8;
        C15790i[] iVarArr = {iVar10, iVar11, iVar12, iVar13, iVar14, iVar15, iVar16, iVar17, iVar9};
        f135047f = iVarArr;
        C15790i[] iVarArr2 = iVarArr;
        C15790i[] iVarArr3 = {iVar10, iVar11, iVar12, iVar13, iVar14, iVar15, iVar16, iVar17, iVar9, C15790i.f134945L0, C15790i.f134947M0, C15790i.f135001j0, C15790i.f135004k0, C15790i.f134936H, C15790i.f134944L, C15790i.f135006l};
        f135048g = iVarArr3;
        a b10 = new a(true).b((C15790i[]) Arrays.copyOf(iVarArr2, iVarArr2.length));
        C15779G g10 = C15779G.TLS_1_3;
        C15779G g11 = C15779G.TLS_1_2;
        f135049h = b10.e(g10, g11).d(true).a();
        f135050i = new a(true).b((C15790i[]) Arrays.copyOf(iVarArr3, iVarArr3.length)).e(g10, g11).d(true).a();
        f135051j = new a(true).b((C15790i[]) Arrays.copyOf(iVarArr3, iVarArr3.length)).e(g10, g11, C15779G.TLS_1_1, C15779G.TLS_1_0).d(true).a();
    }

    public C15793l(boolean z10, boolean z11, String[] strArr, String[] strArr2) {
        this.f135053a = z10;
        this.f135054b = z11;
        this.f135055c = strArr;
        this.f135056d = strArr2;
    }

    private final C15793l g(SSLSocket sSLSocket, boolean z10) {
        String[] strArr;
        String[] strArr2;
        if (this.f135055c != null) {
            String[] enabledCipherSuites = sSLSocket.getEnabledCipherSuites();
            C17542s.i(enabledCipherSuites, "sslSocket.enabledCipherSuites");
            strArr = C15864d.E(enabledCipherSuites, this.f135055c, C15790i.f134976b.c());
        } else {
            strArr = sSLSocket.getEnabledCipherSuites();
        }
        if (this.f135056d != null) {
            String[] enabledProtocols = sSLSocket.getEnabledProtocols();
            C17542s.i(enabledProtocols, "sslSocket.enabledProtocols");
            strArr2 = C15864d.E(enabledProtocols, this.f135056d, C17035a.g());
        } else {
            strArr2 = sSLSocket.getEnabledProtocols();
        }
        String[] supportedCipherSuites = sSLSocket.getSupportedCipherSuites();
        C17542s.i(supportedCipherSuites, "supportedCipherSuites");
        int x10 = C15864d.x(supportedCipherSuites, "TLS_FALLBACK_SCSV", C15790i.f134976b.c());
        if (z10 && x10 != -1) {
            C17542s.i(strArr, "cipherSuitesIntersection");
            String str = supportedCipherSuites[x10];
            C17542s.i(str, "supportedCipherSuites[indexOfFallbackScsv]");
            strArr = C15864d.o(strArr, str);
        }
        a aVar = new a(this);
        C17542s.i(strArr, "cipherSuitesIntersection");
        a c10 = aVar.c((String[]) Arrays.copyOf(strArr, strArr.length));
        C17542s.i(strArr2, "tlsVersionsIntersection");
        return c10.f((String[]) Arrays.copyOf(strArr2, strArr2.length)).a();
    }

    public final void c(SSLSocket sSLSocket, boolean z10) {
        C17542s.j(sSLSocket, "sslSocket");
        C15793l g10 = g(sSLSocket, z10);
        if (g10.i() != null) {
            sSLSocket.setEnabledProtocols(g10.f135056d);
        }
        if (g10.d() != null) {
            sSLSocket.setEnabledCipherSuites(g10.f135055c);
        }
    }

    public final List<C15790i> d() {
        String[] strArr = this.f135055c;
        if (strArr == null) {
            return null;
        }
        ArrayList arrayList = new ArrayList(strArr.length);
        for (String b10 : strArr) {
            arrayList.add(C15790i.f134976b.b(b10));
        }
        return C16877v.t1(arrayList);
    }

    public final boolean e(SSLSocket sSLSocket) {
        C17542s.j(sSLSocket, "socket");
        if (!this.f135053a) {
            return false;
        }
        String[] strArr = this.f135056d;
        if (strArr != null && !C15864d.u(strArr, sSLSocket.getEnabledProtocols(), C17035a.g())) {
            return false;
        }
        String[] strArr2 = this.f135055c;
        return strArr2 == null || C15864d.u(strArr2, sSLSocket.getEnabledCipherSuites(), C15790i.f134976b.c());
    }

    public boolean equals(Object obj) {
        if (!(obj instanceof C15793l)) {
            return false;
        }
        if (obj == this) {
            return true;
        }
        boolean z10 = this.f135053a;
        C15793l lVar = (C15793l) obj;
        if (z10 != lVar.f135053a) {
            return false;
        }
        return !z10 || (Arrays.equals(this.f135055c, lVar.f135055c) && Arrays.equals(this.f135056d, lVar.f135056d) && this.f135054b == lVar.f135054b);
    }

    public final boolean f() {
        return this.f135053a;
    }

    public final boolean h() {
        return this.f135054b;
    }

    public int hashCode() {
        if (!this.f135053a) {
            return 17;
        }
        String[] strArr = this.f135055c;
        int i10 = 0;
        int hashCode = (527 + (strArr != null ? Arrays.hashCode(strArr) : 0)) * 31;
        String[] strArr2 = this.f135056d;
        if (strArr2 != null) {
            i10 = Arrays.hashCode(strArr2);
        }
        return ((hashCode + i10) * 31) + (this.f135054b ^ true ? 1 : 0);
    }

    public final List<C15779G> i() {
        String[] strArr = this.f135056d;
        if (strArr == null) {
            return null;
        }
        ArrayList arrayList = new ArrayList(strArr.length);
        for (String a10 : strArr) {
            arrayList.add(C15779G.Companion.a(a10));
        }
        return C16877v.t1(arrayList);
    }

    public String toString() {
        if (!this.f135053a) {
            return "ConnectionSpec()";
        }
        return "ConnectionSpec(cipherSuites=" + Objects.toString(d(), "[all enabled]") + ", tlsVersions=" + Objects.toString(i(), "[all enabled]") + ", supportsTlsExtensions=" + this.f135054b + ')';
    }

    @Metadata(d1 = {"\u00004\n\u0002\u0018\u0002\n\u0002\u0010\u0000\n\u0002\u0010\u000b\n\u0002\b\u0003\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0010\u0011\n\u0002\u0018\u0002\n\u0002\b\u0003\n\u0002\u0010\u000e\n\u0002\b\u0002\n\u0002\u0018\u0002\n\u0002\b\u0017\u0018\u00002\u00020\u0001B\u0011\b\u0010\u0012\u0006\u0010\u0003\u001a\u00020\u0002¢\u0006\u0004\b\u0004\u0010\u0005B\u0011\b\u0016\u0012\u0006\u0010\u0007\u001a\u00020\u0006¢\u0006\u0004\b\u0004\u0010\bJ!\u0010\f\u001a\u00020\u00002\u0012\u0010\u000b\u001a\n\u0012\u0006\b\u0001\u0012\u00020\n0\t\"\u00020\n¢\u0006\u0004\b\f\u0010\rJ!\u0010\u000f\u001a\u00020\u00002\u0012\u0010\u000b\u001a\n\u0012\u0006\b\u0001\u0012\u00020\u000e0\t\"\u00020\u000e¢\u0006\u0004\b\u000f\u0010\u0010J!\u0010\u0013\u001a\u00020\u00002\u0012\u0010\u0012\u001a\n\u0012\u0006\b\u0001\u0012\u00020\u00110\t\"\u00020\u0011¢\u0006\u0004\b\u0013\u0010\u0014J!\u0010\u0015\u001a\u00020\u00002\u0012\u0010\u0012\u001a\n\u0012\u0006\b\u0001\u0012\u00020\u000e0\t\"\u00020\u000e¢\u0006\u0004\b\u0015\u0010\u0010J\u0017\u0010\u0017\u001a\u00020\u00002\u0006\u0010\u0016\u001a\u00020\u0002H\u0007¢\u0006\u0004\b\u0017\u0010\u0018J\r\u0010\u0019\u001a\u00020\u0006¢\u0006\u0004\b\u0019\u0010\u001aR\"\u0010\u0003\u001a\u00020\u00028\u0000@\u0000X\u000e¢\u0006\u0012\n\u0004\b\u0019\u0010\u001b\u001a\u0004\b\u001c\u0010\u001d\"\u0004\b\u001e\u0010\u0005R*\u0010\u000b\u001a\n\u0012\u0004\u0012\u00020\u000e\u0018\u00010\t8\u0000@\u0000X\u000e¢\u0006\u0012\n\u0004\b\f\u0010\u001f\u001a\u0004\b \u0010!\"\u0004\b\"\u0010#R*\u0010\u0012\u001a\n\u0012\u0004\u0012\u00020\u000e\u0018\u00010\t8\u0000@\u0000X\u000e¢\u0006\u0012\n\u0004\b\u000f\u0010\u001f\u001a\u0004\b$\u0010!\"\u0004\b%\u0010#R\"\u0010\u0016\u001a\u00020\u00028\u0000@\u0000X\u000e¢\u0006\u0012\n\u0004\b\u0017\u0010\u001b\u001a\u0004\b&\u0010\u001d\"\u0004\b'\u0010\u0005¨\u0006("}, d2 = {"LGK/l$a;", "", "", "tls", "<init>", "(Z)V", "LGK/l;", "connectionSpec", "(LGK/l;)V", "", "LGK/i;", "cipherSuites", "b", "([LGK/i;)LGK/l$a;", "", "c", "([Ljava/lang/String;)LGK/l$a;", "LGK/G;", "tlsVersions", "e", "([LGK/G;)LGK/l$a;", "f", "supportsTlsExtensions", "d", "(Z)LGK/l$a;", "a", "()LGK/l;", "Z", "getTls$okhttp", "()Z", "setTls$okhttp", "[Ljava/lang/String;", "getCipherSuites$okhttp", "()[Ljava/lang/String;", "setCipherSuites$okhttp", "([Ljava/lang/String;)V", "getTlsVersions$okhttp", "setTlsVersions$okhttp", "getSupportsTlsExtensions$okhttp", "setSupportsTlsExtensions$okhttp", "okhttp"}, k = 1, mv = {1, 8, 0}, xi = 48)
    /* renamed from: GK.l$a */
    public static final class a {

        /* renamed from: a  reason: collision with root package name */
        private boolean f135057a;

        /* renamed from: b  reason: collision with root package name */
        private String[] f135058b;

        /* renamed from: c  reason: collision with root package name */
        private String[] f135059c;

        /* renamed from: d  reason: collision with root package name */
        private boolean f135060d;

        public a(boolean z10) {
            this.f135057a = z10;
        }

        public final C15793l a() {
            return new C15793l(this.f135057a, this.f135060d, this.f135058b, this.f135059c);
        }

        public final a b(C15790i... iVarArr) {
            C17542s.j(iVarArr, "cipherSuites");
            if (this.f135057a) {
                ArrayList arrayList = new ArrayList(iVarArr.length);
                for (C15790i c10 : iVarArr) {
                    arrayList.add(c10.c());
                }
                String[] strArr = (String[]) arrayList.toArray(new String[0]);
                return c((String[]) Arrays.copyOf(strArr, strArr.length));
            }
            throw new IllegalArgumentException("no cipher suites for cleartext connections");
        }

        public final a c(String... strArr) {
            C17542s.j(strArr, "cipherSuites");
            if (this.f135057a) {
                if (!(strArr.length == 0)) {
                    this.f135058b = (String[]) strArr.clone();
                    return this;
                }
                throw new IllegalArgumentException("At least one cipher suite is required");
            }
            throw new IllegalArgumentException("no cipher suites for cleartext connections");
        }

        @C16814e
        public final a d(boolean z10) {
            if (this.f135057a) {
                this.f135060d = z10;
                return this;
            }
            throw new IllegalArgumentException("no TLS extensions for cleartext connections");
        }

        public final a e(C15779G... gArr) {
            C17542s.j(gArr, "tlsVersions");
            if (this.f135057a) {
                ArrayList arrayList = new ArrayList(gArr.length);
                for (C15779G b10 : gArr) {
                    arrayList.add(b10.b());
                }
                String[] strArr = (String[]) arrayList.toArray(new String[0]);
                return f((String[]) Arrays.copyOf(strArr, strArr.length));
            }
            throw new IllegalArgumentException("no TLS versions for cleartext connections");
        }

        public final a f(String... strArr) {
            C17542s.j(strArr, "tlsVersions");
            if (this.f135057a) {
                if (!(strArr.length == 0)) {
                    this.f135059c = (String[]) strArr.clone();
                    return this;
                }
                throw new IllegalArgumentException("At least one TLS version is required");
            }
            throw new IllegalArgumentException("no TLS versions for cleartext connections");
        }

        public a(C15793l lVar) {
            C17542s.j(lVar, "connectionSpec");
            this.f135057a = lVar.f();
            this.f135058b = lVar.f135055c;
            this.f135059c = lVar.f135056d;
            this.f135060d = lVar.h();
        }
    }
}
