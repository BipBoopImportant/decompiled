package g1;

import U0.C0;
import U0.C4863c;
import XH.C16807N;
import YH.C16877v;
import j0.O;
import java.util.Set;
import kotlin.Metadata;
import kotlin.jvm.internal.DefaultConstructorMarker;
import nI.C17631a;
import nI.C17642l;
import nI.p;

@Metadata(d1 = {"\u0000H\n\u0002\u0018\u0002\n\u0002\u0010\u0000\n\u0002\u0010\b\n\u0000\n\u0002\u0018\u0002\n\u0002\b\u0003\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0018\u0002\n\u0002\b\n\n\u0002\u0018\u0002\n\u0002\b\u0016\n\u0002\u0010\u000b\n\u0002\b\u0013\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0000\b7\u0018\u0000 /2\u00020\u0001:\u0001\"B\u0019\b\u0004\u0012\u0006\u0010\u0003\u001a\u00020\u0002\u0012\u0006\u0010\u0005\u001a\u00020\u0004¢\u0006\u0004\b\u0006\u0010\u0007J\u000f\u0010\t\u001a\u00020\bH\u0016¢\u0006\u0004\b\t\u0010\nJ'\u0010\r\u001a\u00020\u00002\u0016\b\u0002\u0010\f\u001a\u0010\u0012\u0004\u0012\u00020\u0001\u0012\u0004\u0012\u00020\b\u0018\u00010\u000bH&¢\u0006\u0004\b\r\u0010\u000eJ\u0011\u0010\u000f\u001a\u0004\u0018\u00010\u0000H\u0011¢\u0006\u0004\b\u000f\u0010\u0010J\u0019\u0010\u0012\u001a\u00020\b2\b\u0010\u0011\u001a\u0004\u0018\u00010\u0000H\u0011¢\u0006\u0004\b\u0012\u0010\u0013J\u0017\u0010\u0014\u001a\u00020\b2\u0006\u0010\u0011\u001a\u00020\u0000H ¢\u0006\u0004\b\u0014\u0010\u0013J\u0017\u0010\u0015\u001a\u00020\b2\u0006\u0010\u0011\u001a\u00020\u0000H ¢\u0006\u0004\b\u0015\u0010\u0013J\u0017\u0010\u0018\u001a\u00020\b2\u0006\u0010\u0017\u001a\u00020\u0016H ¢\u0006\u0004\b\u0018\u0010\u0019J\u000f\u0010\u001a\u001a\u00020\bH ¢\u0006\u0004\b\u001a\u0010\nJ\u000f\u0010\u001b\u001a\u00020\bH\u0000¢\u0006\u0004\b\u001b\u0010\nJ\u000f\u0010\u001c\u001a\u00020\bH\u0010¢\u0006\u0004\b\u001c\u0010\nJ\u000f\u0010\u001d\u001a\u00020\bH\u0010¢\u0006\u0004\b\u001d\u0010\nJ\u000f\u0010\u001e\u001a\u00020\bH\u0000¢\u0006\u0004\b\u001e\u0010\nJ\u000f\u0010\u001f\u001a\u00020\bH\u0000¢\u0006\u0004\b\u001f\u0010\nJ\u000f\u0010 \u001a\u00020\u0002H\u0000¢\u0006\u0004\b \u0010!R\"\u0010\u0005\u001a\u00020\u00048\u0010@\u0010X\u000e¢\u0006\u0012\n\u0004\b\"\u0010#\u001a\u0004\b$\u0010%\"\u0004\b&\u0010'R*\u0010\u0003\u001a\u00020\u00022\u0006\u0010(\u001a\u00020\u00028\u0016@PX\u000e¢\u0006\u0012\n\u0004\b\u001b\u0010)\u001a\u0004\b*\u0010!\"\u0004\b+\u0010,R\"\u00103\u001a\u00020-8\u0000@\u0000X\u000e¢\u0006\u0012\n\u0004\b\u001c\u0010.\u001a\u0004\b/\u00100\"\u0004\b1\u00102R\u001c\u00105\u001a\u00020\u00028\u0002@\u0002X\u000e¢\u0006\f\n\u0004\b\t\u0010)\u0012\u0004\b4\u0010\nR$\u00109\u001a\u00020\u00022\u0006\u00106\u001a\u00020\u00028P@PX\u000e¢\u0006\f\u001a\u0004\b7\u0010!\"\u0004\b8\u0010,R\u0014\u0010;\u001a\u00020-8&X¦\u0004¢\u0006\u0006\u001a\u0004\b:\u00100R(\u0010\f\u001a\u0010\u0012\u0004\u0012\u00020\u0001\u0012\u0004\u0012\u00020\b\u0018\u00010\u000b8 X¡\u0004¢\u0006\f\u0012\u0004\b>\u0010\n\u001a\u0004\b<\u0010=R\"\u0010@\u001a\u0010\u0012\u0004\u0012\u00020\u0001\u0012\u0004\u0012\u00020\b\u0018\u00010\u000b8 X \u0004¢\u0006\u0006\u001a\u0004\b?\u0010=\u0001\u0004ABCD¨\u0006E"}, d2 = {"Lg1/k;", "", "", "id", "Lg1/n;", "invalid", "<init>", "(ILg1/n;)V", "LXH/N;", "d", "()V", "Lkotlin/Function1;", "readObserver", "x", "(LnI/l;)Lg1/k;", "l", "()Lg1/k;", "snapshot", "s", "(Lg1/k;)V", "m", "n", "Lg1/G;", "state", "p", "(Lg1/G;)V", "o", "b", "c", "r", "z", "q", "y", "()I", "a", "Lg1/n;", "g", "()Lg1/n;", "v", "(Lg1/n;)V", "<set-?>", "I", "f", "u", "(I)V", "", "Z", "e", "()Z", "t", "(Z)V", "disposed", "getPinningTrackingHandle$annotations", "pinningTrackingHandle", "value", "j", "w", "writeCount", "i", "readOnly", "h", "()LnI/l;", "getReadObserver$annotations", "k", "writeObserver", "Lg1/c;", "Lg1/e;", "Lg1/h;", "Lg1/L;", "runtime_release"}, k = 1, mv = {1, 8, 0}, xi = 48)
/* renamed from: g1.k  reason: case insensitive filesystem */
public abstract class C5342k {

    /* renamed from: e  reason: collision with root package name */
    public static final a f23395e = new a((DefaultConstructorMarker) null);

    /* renamed from: f  reason: collision with root package name */
    public static final int f23396f = 8;

    /* renamed from: a  reason: collision with root package name */
    private C5345n f23397a;

    /* renamed from: b  reason: collision with root package name */
    private int f23398b;

    /* renamed from: c  reason: collision with root package name */
    private boolean f23399c;
    /* access modifiers changed from: private */

    /* renamed from: d  reason: collision with root package name */
    public int f23400d;

    @Metadata(d1 = {"\u0000F\n\u0002\u0018\u0002\n\u0002\u0010\u0000\n\u0002\b\u0002\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\b\u0003\n\u0002\u0018\u0002\n\u0002\b\u0003\n\u0002\u0018\u0002\n\u0002\b\n\n\u0002\u0018\u0002\n\u0002\u0010\"\n\u0002\u0018\u0002\n\u0002\b\t\n\u0002\u0010\u000b\n\u0002\b\u0007\b\u0003\u0018\u00002\u00020\u0001B\t\b\u0002¢\u0006\u0004\b\u0002\u0010\u0003J%\u0010\b\u001a\u00020\u00072\u0016\b\u0002\u0010\u0006\u001a\u0010\u0012\u0004\u0012\u00020\u0001\u0012\u0004\u0012\u00020\u0005\u0018\u00010\u0004¢\u0006\u0004\b\b\u0010\tJ=\u0010\f\u001a\u00020\u000b2\u0016\b\u0002\u0010\u0006\u001a\u0010\u0012\u0004\u0012\u00020\u0001\u0012\u0004\u0012\u00020\u0005\u0018\u00010\u00042\u0016\b\u0002\u0010\n\u001a\u0010\u0012\u0004\u0012\u00020\u0001\u0012\u0004\u0012\u00020\u0005\u0018\u00010\u0004¢\u0006\u0004\b\f\u0010\rJQ\u0010\u0011\u001a\u00028\u0000\"\u0004\b\u0000\u0010\u000e2\u0016\b\u0002\u0010\u0006\u001a\u0010\u0012\u0004\u0012\u00020\u0001\u0012\u0004\u0012\u00020\u0005\u0018\u00010\u00042\u0016\b\u0002\u0010\n\u001a\u0010\u0012\u0004\u0012\u00020\u0001\u0012\u0004\u0012\u00020\u0005\u0018\u00010\u00042\f\u0010\u0010\u001a\b\u0012\u0004\u0012\u00028\u00000\u000f¢\u0006\u0004\b\u0011\u0010\u0012J\u0019\u0010\u0014\u001a\u00020\u00072\b\u0010\u0013\u001a\u0004\u0018\u00010\u0007H\u0001¢\u0006\u0004\b\u0014\u0010\u0015J7\u0010\u0018\u001a\u00020\u00052\b\u0010\u0013\u001a\u0004\u0018\u00010\u00072\u0006\u0010\u0016\u001a\u00020\u00072\u0014\u0010\u0017\u001a\u0010\u0012\u0004\u0012\u00020\u0001\u0012\u0004\u0012\u00020\u0005\u0018\u00010\u0004H\u0001¢\u0006\u0004\b\u0018\u0010\u0019J-\u0010\u001d\u001a\u00020\u001c2\u001e\u0010\u0017\u001a\u001a\u0012\n\u0012\b\u0012\u0004\u0012\u00020\u00010\u001b\u0012\u0004\u0012\u00020\u0007\u0012\u0004\u0012\u00020\u00050\u001a¢\u0006\u0004\b\u001d\u0010\u001eJ!\u0010\u001f\u001a\u00020\u001c2\u0012\u0010\u0017\u001a\u000e\u0012\u0004\u0012\u00020\u0001\u0012\u0004\u0012\u00020\u00050\u0004¢\u0006\u0004\b\u001f\u0010 J\r\u0010!\u001a\u00020\u0005¢\u0006\u0004\b!\u0010\u0003J\r\u0010\"\u001a\u00020\u0005¢\u0006\u0004\b\"\u0010\u0003R\u0011\u0010%\u001a\u00020\u00078F¢\u0006\u0006\u001a\u0004\b#\u0010$R\u0011\u0010)\u001a\u00020&8F¢\u0006\u0006\u001a\u0004\b'\u0010(R\u001c\u0010,\u001a\u0004\u0018\u00010\u00078@X\u0004¢\u0006\f\u0012\u0004\b+\u0010\u0003\u001a\u0004\b*\u0010$¨\u0006-"}, d2 = {"Lg1/k$a;", "", "<init>", "()V", "Lkotlin/Function1;", "LXH/N;", "readObserver", "Lg1/k;", "q", "(LnI/l;)Lg1/k;", "writeObserver", "Lg1/c;", "p", "(LnI/l;LnI/l;)Lg1/c;", "T", "Lkotlin/Function0;", "block", "h", "(LnI/l;LnI/l;LnI/a;)Ljava/lang/Object;", "previous", "f", "(Lg1/k;)Lg1/k;", "nonObservable", "observer", "n", "(Lg1/k;Lg1/k;LnI/l;)V", "Lkotlin/Function2;", "", "Lg1/f;", "j", "(LnI/p;)Lg1/f;", "l", "(LnI/l;)Lg1/f;", "g", "o", "c", "()Lg1/k;", "current", "", "e", "()Z", "isInSnapshot", "d", "getCurrentThreadSnapshot$annotations", "currentThreadSnapshot", "runtime_release"}, k = 1, mv = {1, 8, 0}, xi = 48)
    /* renamed from: g1.k$a */
    public static final class a {
        public /* synthetic */ a(DefaultConstructorMarker defaultConstructorMarker) {
            this();
        }

        public static /* synthetic */ Object i(a aVar, C17642l lVar, C17642l lVar2, C17631a aVar2, int i10, Object obj) {
            if ((i10 & 1) != 0) {
                lVar = null;
            }
            if ((i10 & 2) != 0) {
                lVar2 = null;
            }
            return aVar.h(lVar, lVar2, aVar2);
        }

        /* access modifiers changed from: private */
        public static final void k(p pVar) {
            synchronized (C5347p.I()) {
                C5347p.f23427h = C16877v.S0(C5347p.f23427h, pVar);
                C16807N n10 = C16807N.f139792a;
            }
        }

        /* access modifiers changed from: private */
        public static final void m(C17642l lVar) {
            synchronized (C5347p.I()) {
                C5347p.f23428i = C16877v.S0(C5347p.f23428i, lVar);
                C16807N n10 = C16807N.f139792a;
            }
            C5347p.B();
        }

        public final C5342k c() {
            return C5347p.H();
        }

        public final C5342k d() {
            return (C5342k) C5347p.f23421b.a();
        }

        public final boolean e() {
            return C5347p.f23421b.a() != null;
        }

        public final C5342k f(C5342k kVar) {
            if (kVar instanceof C5330K) {
                C5330K k10 = (C5330K) kVar;
                if (k10.U() == C4863c.a()) {
                    k10.X((C17642l<Object, C16807N>) null);
                    return kVar;
                }
            }
            if (kVar instanceof C5331L) {
                C5331L l10 = (C5331L) kVar;
                if (l10.C() == C4863c.a()) {
                    l10.F((C17642l<Object, C16807N>) null);
                    return kVar;
                }
            }
            C5342k E10 = C5347p.E(kVar, (C17642l) null, false, 6, (Object) null);
            E10.l();
            return E10;
        }

        public final void g() {
            C5347p.H().o();
        }

        public final <T> T h(C17642l<Object, C16807N> lVar, C17642l<Object, C16807N> lVar2, C17631a<? extends T> aVar) {
            C5342k kVar;
            C5342k l10;
            if (lVar == null && lVar2 == null) {
                return aVar.invoke();
            }
            C5342k kVar2 = (C5342k) C5347p.f23421b.a();
            C5334c cVar = null;
            if (kVar2 instanceof C5330K) {
                C5330K k10 = (C5330K) kVar2;
                if (k10.U() == C4863c.a()) {
                    C17642l<Object, C16807N> H10 = k10.h();
                    C17642l<Object, C16807N> k11 = k10.k();
                    try {
                        ((C5330K) kVar2).X(C5347p.L(lVar, H10, false, 4, (Object) null));
                        ((C5330K) kVar2).Y(C5347p.M(lVar2, k11));
                        return aVar.invoke();
                    } finally {
                        k10.X(H10);
                        k10.Y(k11);
                    }
                }
            }
            if (kVar2 == null || (kVar2 instanceof C5334c)) {
                if (kVar2 instanceof C5334c) {
                    cVar = (C5334c) kVar2;
                }
                kVar = new C5330K(cVar, lVar, lVar2, true, false);
            } else if (lVar == null) {
                return aVar.invoke();
            } else {
                kVar = kVar2.x(lVar);
            }
            try {
                l10 = kVar.l();
                T invoke = aVar.invoke();
                kVar.s(l10);
                kVar.d();
                return invoke;
            } catch (Throwable th2) {
                kVar.d();
                throw th2;
            }
        }

        public final C5337f j(p<? super Set<? extends Object>, ? super C5342k, C16807N> pVar) {
            Object unused = C5347p.A(C5347p.f23420a);
            synchronized (C5347p.I()) {
                C5347p.f23427h = C16877v.W0(C5347p.f23427h, pVar);
                C16807N n10 = C16807N.f139792a;
            }
            return new C5340i(pVar);
        }

        public final C5337f l(C17642l<Object, C16807N> lVar) {
            synchronized (C5347p.I()) {
                C5347p.f23428i = C16877v.W0(C5347p.f23428i, lVar);
                C16807N n10 = C16807N.f139792a;
            }
            C5347p.B();
            return new C5341j(lVar);
        }

        public final void n(C5342k kVar, C5342k kVar2, C17642l<Object, C16807N> lVar) {
            if (kVar != kVar2) {
                kVar2.s(kVar);
                kVar2.d();
            } else if (kVar instanceof C5330K) {
                ((C5330K) kVar).X(lVar);
            } else if (kVar instanceof C5331L) {
                ((C5331L) kVar).F(lVar);
            } else {
                throw new IllegalStateException(("Non-transparent snapshot was reused: " + kVar).toString());
            }
        }

        public final void o() {
            boolean z10;
            synchronized (C5347p.I()) {
                O<C5326G> E10 = ((C5332a) C5347p.f23429j.get()).E();
                z10 = false;
                if (E10 != null && E10.e()) {
                    z10 = true;
                }
            }
            if (z10) {
                C5347p.B();
            }
        }

        public final C5334c p(C17642l<Object, C16807N> lVar, C17642l<Object, C16807N> lVar2) {
            C5334c Q10;
            C5342k H10 = C5347p.H();
            C5334c cVar = H10 instanceof C5334c ? (C5334c) H10 : null;
            if (cVar != null && (Q10 = cVar.Q(lVar, lVar2)) != null) {
                return Q10;
            }
            throw new IllegalStateException("Cannot create a mutable snapshot of an read-only snapshot");
        }

        public final C5342k q(C17642l<Object, C16807N> lVar) {
            return C5347p.H().x(lVar);
        }

        private a() {
        }
    }

    public /* synthetic */ C5342k(int i10, C5345n nVar, DefaultConstructorMarker defaultConstructorMarker) {
        this(i10, nVar);
    }

    public final void b() {
        synchronized (C5347p.I()) {
            c();
            r();
            C16807N n10 = C16807N.f139792a;
        }
    }

    public void c() {
        C5347p.f23423d = C5347p.f23423d.s(f());
    }

    public void d() {
        this.f23399c = true;
        synchronized (C5347p.I()) {
            q();
            C16807N n10 = C16807N.f139792a;
        }
    }

    public final boolean e() {
        return this.f23399c;
    }

    public int f() {
        return this.f23398b;
    }

    public C5345n g() {
        return this.f23397a;
    }

    public abstract C17642l<Object, C16807N> h();

    public abstract boolean i();

    public int j() {
        return 0;
    }

    public abstract C17642l<Object, C16807N> k();

    public C5342k l() {
        C5342k kVar = (C5342k) C5347p.f23421b.a();
        C5347p.f23421b.b(this);
        return kVar;
    }

    public abstract void m(C5342k kVar);

    public abstract void n(C5342k kVar);

    public abstract void o();

    public abstract void p(C5326G g10);

    public final void q() {
        int i10 = this.f23400d;
        if (i10 >= 0) {
            C5347p.Y(i10);
            this.f23400d = -1;
        }
    }

    public void r() {
        q();
    }

    public void s(C5342k kVar) {
        C5347p.f23421b.b(kVar);
    }

    public final void t(boolean z10) {
        this.f23399c = z10;
    }

    public void u(int i10) {
        this.f23398b = i10;
    }

    public void v(C5345n nVar) {
        this.f23397a = nVar;
    }

    public void w(int i10) {
        throw new IllegalStateException("Updating write count is not supported for this snapshot");
    }

    public abstract C5342k x(C17642l<Object, C16807N> lVar);

    public final int y() {
        int i10 = this.f23400d;
        this.f23400d = -1;
        return i10;
    }

    public final void z() {
        if (this.f23399c) {
            C0.a("Cannot use a disposed snapshot");
        }
    }

    private C5342k(int i10, C5345n nVar) {
        this.f23397a = nVar;
        this.f23398b = i10;
        this.f23400d = i10 != 0 ? C5347p.c0(i10, g()) : -1;
    }
}
