package H0;

import B0.G;
import H0.C4524b;
import N1.C4669d;
import N1.P;
import N1.W;
import N1.X;
import T1.H;
import XH.C16807N;
import Y1.i;
import kotlin.Metadata;
import kotlin.jvm.internal.C17542s;
import kotlin.jvm.internal.DefaultConstructorMarker;
import nI.C17642l;
import o1.C5668h;
import tI.C17978n;

@Metadata(d1 = {"\u0000R\n\u0002\u0018\u0002\n\u0000\n\u0002\u0010\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\b\b\n\u0002\u0010\u000b\n\u0002\b\u0002\n\u0002\u0010\b\n\u0002\b\u000f\n\u0002\u0018\u0002\n\u0002\b\t\n\u0002\u0018\u0002\n\u0002\b.\n\u0002\u0010\u000e\n\u0002\b\u0005\b \u0018\u0000 d*\u000e\b\u0000\u0010\u0001*\b\u0012\u0004\u0012\u00028\u00000\u00002\u00020\u0002:\u0001%B1\u0012\u0006\u0010\u0004\u001a\u00020\u0003\u0012\u0006\u0010\u0006\u001a\u00020\u0005\u0012\b\u0010\b\u001a\u0004\u0018\u00010\u0007\u0012\u0006\u0010\n\u001a\u00020\t\u0012\u0006\u0010\f\u001a\u00020\u000b¢\u0006\u0004\b\r\u0010\u000eJ\u000f\u0010\u000f\u001a\u00028\u0000H\u0002¢\u0006\u0004\b\u000f\u0010\u0010J\u000f\u0010\u0011\u001a\u00028\u0000H\u0002¢\u0006\u0004\b\u0011\u0010\u0010J\u000f\u0010\u0012\u001a\u00028\u0000H\u0002¢\u0006\u0004\b\u0012\u0010\u0010J\u000f\u0010\u0013\u001a\u00028\u0000H\u0002¢\u0006\u0004\b\u0013\u0010\u0010J\u000f\u0010\u0015\u001a\u00020\u0014H\u0002¢\u0006\u0004\b\u0015\u0010\u0016J\u001e\u0010\u0019\u001a\u00020\u0017*\u00020\u00072\b\b\u0002\u0010\u0018\u001a\u00020\u0017H\u0010¢\u0006\u0004\b\u0019\u0010\u001aJ\u001e\u0010\u001b\u001a\u00020\u0017*\u00020\u00072\b\b\u0002\u0010\u0018\u001a\u00020\u0017H\u0010¢\u0006\u0004\b\u001b\u0010\u001aJ\u001d\u0010\u001c\u001a\u00020\u0017*\u00020\u00072\b\b\u0002\u0010\u0018\u001a\u00020\u0017H\u0002¢\u0006\u0004\b\u001c\u0010\u001aJ\u001d\u0010\u001d\u001a\u00020\u0017*\u00020\u00072\b\b\u0002\u0010\u0018\u001a\u00020\u0017H\u0002¢\u0006\u0004\b\u001d\u0010\u001aJ\u001b\u0010\u001f\u001a\u00020\u0017*\u00020\u00072\u0006\u0010\u001e\u001a\u00020\u0017H\u0002¢\u0006\u0004\b\u001f\u0010\u001aJ\u000f\u0010 \u001a\u00020\u0017H\u0002¢\u0006\u0004\b \u0010!J\u000f\u0010\"\u001a\u00020\u0017H\u0002¢\u0006\u0004\b\"\u0010!J\u000f\u0010#\u001a\u00020\u0017H\u0002¢\u0006\u0004\b#\u0010!J\u0017\u0010%\u001a\u00020\u00172\u0006\u0010$\u001a\u00020\u0017H\u0002¢\u0006\u0004\b%\u0010&J\u0017\u0010\u0001\u001a\u00020'2\u0006\u0010$\u001a\u00020\u0017H\u0004¢\u0006\u0004\b\u0001\u0010(J\u001f\u0010+\u001a\u00020'2\u0006\u0010)\u001a\u00020\u00172\u0006\u0010*\u001a\u00020\u0017H\u0004¢\u0006\u0004\b+\u0010,J\r\u0010-\u001a\u00028\u0000¢\u0006\u0004\b-\u0010\u0010J\r\u0010.\u001a\u00028\u0000¢\u0006\u0004\b.\u0010\u0010J\r\u0010/\u001a\u00028\u0000¢\u0006\u0004\b/\u0010\u0010J\r\u00100\u001a\u00028\u0000¢\u0006\u0004\b0\u0010\u0010J!\u00103\u001a\u00028\u00002\u0012\u00102\u001a\u000e\u0012\u0004\u0012\u00028\u0000\u0012\u0004\u0012\u00020'01¢\u0006\u0004\b3\u00104J!\u00105\u001a\u00028\u00002\u0012\u00102\u001a\u000e\u0012\u0004\u0012\u00028\u0000\u0012\u0004\u0012\u00020'01¢\u0006\u0004\b5\u00104J\r\u00106\u001a\u00020\u0017¢\u0006\u0004\b6\u0010!J\r\u00107\u001a\u00020\u0017¢\u0006\u0004\b7\u0010!J\r\u00108\u001a\u00028\u0000¢\u0006\u0004\b8\u0010\u0010J\r\u00109\u001a\u00028\u0000¢\u0006\u0004\b9\u0010\u0010J\r\u0010:\u001a\u00028\u0000¢\u0006\u0004\b:\u0010\u0010J\r\u0010;\u001a\u00028\u0000¢\u0006\u0004\b;\u0010\u0010J\u000f\u0010<\u001a\u0004\u0018\u00010\u0017¢\u0006\u0004\b<\u0010=J\u000f\u0010>\u001a\u0004\u0018\u00010\u0017¢\u0006\u0004\b>\u0010=J\r\u0010?\u001a\u00028\u0000¢\u0006\u0004\b?\u0010\u0010J\r\u0010@\u001a\u00028\u0000¢\u0006\u0004\b@\u0010\u0010J\r\u0010A\u001a\u00028\u0000¢\u0006\u0004\bA\u0010\u0010J\r\u0010B\u001a\u00028\u0000¢\u0006\u0004\bB\u0010\u0010J\u000f\u0010C\u001a\u0004\u0018\u00010\u0017¢\u0006\u0004\bC\u0010=J\r\u0010D\u001a\u00028\u0000¢\u0006\u0004\bD\u0010\u0010J\u000f\u0010E\u001a\u0004\u0018\u00010\u0017¢\u0006\u0004\bE\u0010=J\r\u0010F\u001a\u00028\u0000¢\u0006\u0004\bF\u0010\u0010J\r\u0010G\u001a\u00028\u0000¢\u0006\u0004\bG\u0010\u0010J\r\u0010H\u001a\u00028\u0000¢\u0006\u0004\bH\u0010\u0010J\r\u0010I\u001a\u00028\u0000¢\u0006\u0004\bI\u0010\u0010R\u0017\u0010\u0004\u001a\u00020\u00038\u0006¢\u0006\f\n\u0004\b%\u0010J\u001a\u0004\bK\u0010LR\u001d\u0010\u0006\u001a\u00020\u00058\u0006ø\u0001\u0000ø\u0001\u0001¢\u0006\f\n\u0004\b3\u0010;\u001a\u0004\bM\u0010NR\u0019\u0010\b\u001a\u0004\u0018\u00010\u00078\u0006¢\u0006\f\n\u0004\b5\u0010O\u001a\u0004\bP\u0010QR\u0017\u0010\n\u001a\u00020\t8\u0006¢\u0006\f\n\u0004\b.\u0010R\u001a\u0004\bS\u0010TR\u0017\u0010\f\u001a\u00020\u000b8\u0006¢\u0006\f\n\u0004\bU\u0010V\u001a\u0004\bW\u0010XR(\u0010\\\u001a\u00020\u00058\u0006@\u0006X\u000eø\u0001\u0000ø\u0001\u0001¢\u0006\u0012\n\u0004\bE\u0010;\u001a\u0004\bY\u0010N\"\u0004\bZ\u0010[R\"\u0010_\u001a\u00020\u00038\u0006@\u0006X\u000e¢\u0006\u0012\n\u0004\b\u001d\u0010J\u001a\u0004\bU\u0010L\"\u0004\b]\u0010^R\u0014\u0010c\u001a\u00020`8@X\u0004¢\u0006\u0006\u001a\u0004\ba\u0010b\u0002\u000b\n\u0005\b¡\u001e0\u0001\n\u0002\b!¨\u0006e"}, d2 = {"LH0/b;", "T", "", "LN1/d;", "originalText", "LN1/W;", "originalSelection", "LN1/P;", "layoutResult", "LT1/H;", "offsetMapping", "LH0/U;", "state", "<init>", "(LN1/d;JLN1/P;LT1/H;LH0/U;Lkotlin/jvm/internal/DefaultConstructorMarker;)V", "F", "()LH0/b;", "C", "E", "H", "", "x", "()Z", "", "currentOffset", "n", "(LN1/P;I)I", "r", "j", "g", "linesAmount", "y", "V", "()I", "X", "W", "offset", "a", "(I)I", "LXH/N;", "(I)V", "start", "end", "U", "(II)V", "R", "d", "A", "I", "Lkotlin/Function1;", "or", "b", "(LnI/l;)LH0/b;", "c", "q", "l", "L", "K", "B", "J", "m", "()Ljava/lang/Integer;", "t", "G", "D", "Q", "z", "i", "P", "f", "M", "N", "O", "S", "LN1/d;", "getOriginalText", "()LN1/d;", "getOriginalSelection-d9O1mEE", "()J", "LN1/P;", "getLayoutResult", "()LN1/P;", "LT1/H;", "p", "()LT1/H;", "e", "LH0/U;", "v", "()LH0/U;", "u", "setSelection-5zc-tL8", "(J)V", "selection", "setAnnotatedString", "(LN1/d;)V", "annotatedString", "", "w", "()Ljava/lang/String;", "text", "h", "foundation_release"}, k = 1, mv = {1, 8, 0}, xi = 48)
/* renamed from: H0.b  reason: case insensitive filesystem */
public abstract class C4524b<T extends C4524b<T>> {

    /* renamed from: h  reason: collision with root package name */
    public static final a f6925h = new a((DefaultConstructorMarker) null);

    /* renamed from: i  reason: collision with root package name */
    public static final int f6926i = 8;

    /* renamed from: a  reason: collision with root package name */
    private final C4669d f6927a;

    /* renamed from: b  reason: collision with root package name */
    private final long f6928b;

    /* renamed from: c  reason: collision with root package name */
    private final P f6929c;

    /* renamed from: d  reason: collision with root package name */
    private final H f6930d;

    /* renamed from: e  reason: collision with root package name */
    private final U f6931e;

    /* renamed from: f  reason: collision with root package name */
    private long f6932f;

    /* renamed from: g  reason: collision with root package name */
    private C4669d f6933g;

    @Metadata(d1 = {"\u0000\u0014\n\u0002\u0018\u0002\n\u0002\u0010\u0000\n\u0002\b\u0002\n\u0002\u0010\b\n\u0002\b\u0003\b\u0003\u0018\u00002\u00020\u0001B\t\b\u0002¢\u0006\u0004\b\u0002\u0010\u0003R\u0014\u0010\u0005\u001a\u00020\u00048\u0006XT¢\u0006\u0006\n\u0004\b\u0005\u0010\u0006¨\u0006\u0007"}, d2 = {"LH0/b$a;", "", "<init>", "()V", "", "NoCharacterFound", "I", "foundation_release"}, k = 1, mv = {1, 8, 0}, xi = 48)
    /* renamed from: H0.b$a */
    public static final class a {
        public /* synthetic */ a(DefaultConstructorMarker defaultConstructorMarker) {
            this();
        }

        private a() {
        }
    }

    public /* synthetic */ C4524b(C4669d dVar, long j10, P p10, H h10, U u10, DefaultConstructorMarker defaultConstructorMarker) {
        this(dVar, j10, p10, h10, u10);
    }

    private final T C() {
        int l10;
        v().b();
        if (w().length() > 0 && (l10 = l()) != -1) {
            T(l10);
        }
        C17542s.h(this, "null cannot be cast to non-null type T of androidx.compose.foundation.text.selection.BaseTextPreparedSelection");
        return this;
    }

    private final T E() {
        Integer m10;
        v().b();
        if (w().length() > 0 && (m10 = m()) != null) {
            T(m10.intValue());
        }
        C17542s.h(this, "null cannot be cast to non-null type T of androidx.compose.foundation.text.selection.BaseTextPreparedSelection");
        return this;
    }

    private final T F() {
        int q10;
        v().b();
        if (w().length() > 0 && (q10 = q()) != -1) {
            T(q10);
        }
        C17542s.h(this, "null cannot be cast to non-null type T of androidx.compose.foundation.text.selection.BaseTextPreparedSelection");
        return this;
    }

    private final T H() {
        Integer t10;
        v().b();
        if (w().length() > 0 && (t10 = t()) != null) {
            T(t10.intValue());
        }
        C17542s.h(this, "null cannot be cast to non-null type T of androidx.compose.foundation.text.selection.BaseTextPreparedSelection");
        return this;
    }

    private final int V() {
        return this.f6930d.b(W.i(this.f6932f));
    }

    private final int W() {
        return this.f6930d.b(W.k(this.f6932f));
    }

    private final int X() {
        return this.f6930d.b(W.l(this.f6932f));
    }

    private final int a(int i10) {
        return C17978n.i(i10, w().length() - 1);
    }

    private final int g(P p10, int i10) {
        return this.f6930d.a(p10.o(p10.q(i10), true));
    }

    static /* synthetic */ int h(C4524b bVar, P p10, int i10, int i11, Object obj) {
        if (obj == null) {
            if ((i11 & 1) != 0) {
                i10 = bVar.W();
            }
            return bVar.g(p10, i10);
        }
        throw new UnsupportedOperationException("Super calls with default arguments not supported in this target, function: getLineEndByOffsetForLayout");
    }

    private final int j(P p10, int i10) {
        return this.f6930d.a(p10.u(p10.q(i10)));
    }

    static /* synthetic */ int k(C4524b bVar, P p10, int i10, int i11, Object obj) {
        if (obj == null) {
            if ((i11 & 1) != 0) {
                i10 = bVar.X();
            }
            return bVar.j(p10, i10);
        }
        throw new UnsupportedOperationException("Super calls with default arguments not supported in this target, function: getLineStartByOffsetForLayout");
    }

    private final int n(P p10, int i10) {
        while (i10 < this.f6927a.length()) {
            long C10 = p10.C(a(i10));
            if (W.i(C10) > i10) {
                return this.f6930d.a(W.i(C10));
            }
            i10++;
        }
        return this.f6927a.length();
    }

    static /* synthetic */ int o(C4524b bVar, P p10, int i10, int i11, Object obj) {
        if (obj == null) {
            if ((i11 & 1) != 0) {
                i10 = bVar.V();
            }
            return bVar.n(p10, i10);
        }
        throw new UnsupportedOperationException("Super calls with default arguments not supported in this target, function: getNextWordOffsetForLayout");
    }

    private final int r(P p10, int i10) {
        while (i10 > 0) {
            long C10 = p10.C(a(i10));
            if (W.n(C10) < i10) {
                return this.f6930d.a(W.n(C10));
            }
            i10--;
        }
        return 0;
    }

    static /* synthetic */ int s(C4524b bVar, P p10, int i10, int i11, Object obj) {
        if (obj == null) {
            if ((i11 & 1) != 0) {
                i10 = bVar.V();
            }
            return bVar.r(p10, i10);
        }
        throw new UnsupportedOperationException("Super calls with default arguments not supported in this target, function: getPrevWordOffset");
    }

    private final boolean x() {
        P p10 = this.f6929c;
        return (p10 != null ? p10.y(V()) : null) != i.Rtl;
    }

    private final int y(P p10, int i10) {
        int V10 = V();
        if (this.f6931e.a() == null) {
            this.f6931e.c(Float.valueOf(p10.e(V10).o()));
        }
        int q10 = p10.q(V10) + i10;
        if (q10 < 0) {
            return 0;
        }
        if (q10 >= p10.n()) {
            return w().length();
        }
        float m10 = p10.m(q10) - ((float) 1);
        Float a10 = this.f6931e.a();
        C17542s.g(a10);
        float floatValue = a10.floatValue();
        if ((x() && floatValue >= p10.t(q10)) || (!x() && floatValue <= p10.s(q10))) {
            return p10.o(q10, true);
        }
        return this.f6930d.a(p10.x(C5668h.a(a10.floatValue(), m10)));
    }

    public final T A() {
        v().b();
        if (w().length() > 0) {
            if (x()) {
                F();
            } else {
                C();
            }
        }
        C17542s.h(this, "null cannot be cast to non-null type T of androidx.compose.foundation.text.selection.BaseTextPreparedSelection");
        return this;
    }

    public final T B() {
        v().b();
        if (w().length() > 0) {
            if (x()) {
                H();
            } else {
                E();
            }
        }
        C17542s.h(this, "null cannot be cast to non-null type T of androidx.compose.foundation.text.selection.BaseTextPreparedSelection");
        return this;
    }

    public final T D() {
        v().b();
        if (w().length() > 0) {
            int a10 = G.a(w(), W.k(this.f6932f));
            if (a10 == W.k(this.f6932f) && a10 != w().length()) {
                a10 = G.a(w(), a10 + 1);
            }
            T(a10);
        }
        C17542s.h(this, "null cannot be cast to non-null type T of androidx.compose.foundation.text.selection.BaseTextPreparedSelection");
        return this;
    }

    public final T G() {
        v().b();
        if (w().length() > 0) {
            int b10 = G.b(w(), W.l(this.f6932f));
            if (b10 == W.l(this.f6932f) && b10 != 0) {
                b10 = G.b(w(), b10 - 1);
            }
            T(b10);
        }
        C17542s.h(this, "null cannot be cast to non-null type T of androidx.compose.foundation.text.selection.BaseTextPreparedSelection");
        return this;
    }

    public final T I() {
        v().b();
        if (w().length() > 0) {
            if (x()) {
                C();
            } else {
                F();
            }
        }
        C17542s.h(this, "null cannot be cast to non-null type T of androidx.compose.foundation.text.selection.BaseTextPreparedSelection");
        return this;
    }

    public final T J() {
        v().b();
        if (w().length() > 0) {
            if (x()) {
                E();
            } else {
                H();
            }
        }
        C17542s.h(this, "null cannot be cast to non-null type T of androidx.compose.foundation.text.selection.BaseTextPreparedSelection");
        return this;
    }

    public final T K() {
        v().b();
        if (w().length() > 0) {
            T(w().length());
        }
        C17542s.h(this, "null cannot be cast to non-null type T of androidx.compose.foundation.text.selection.BaseTextPreparedSelection");
        return this;
    }

    public final T L() {
        v().b();
        if (w().length() > 0) {
            T(0);
        }
        C17542s.h(this, "null cannot be cast to non-null type T of androidx.compose.foundation.text.selection.BaseTextPreparedSelection");
        return this;
    }

    public final T M() {
        Integer f10;
        v().b();
        if (w().length() > 0 && (f10 = f()) != null) {
            T(f10.intValue());
        }
        C17542s.h(this, "null cannot be cast to non-null type T of androidx.compose.foundation.text.selection.BaseTextPreparedSelection");
        return this;
    }

    public final T N() {
        v().b();
        if (w().length() > 0) {
            if (x()) {
                P();
            } else {
                M();
            }
        }
        C17542s.h(this, "null cannot be cast to non-null type T of androidx.compose.foundation.text.selection.BaseTextPreparedSelection");
        return this;
    }

    public final T O() {
        v().b();
        if (w().length() > 0) {
            if (x()) {
                M();
            } else {
                P();
            }
        }
        C17542s.h(this, "null cannot be cast to non-null type T of androidx.compose.foundation.text.selection.BaseTextPreparedSelection");
        return this;
    }

    public final T P() {
        Integer i10;
        v().b();
        if (w().length() > 0 && (i10 = i()) != null) {
            T(i10.intValue());
        }
        C17542s.h(this, "null cannot be cast to non-null type T of androidx.compose.foundation.text.selection.BaseTextPreparedSelection");
        return this;
    }

    public final T Q() {
        P p10;
        if (w().length() > 0 && (p10 = this.f6929c) != null) {
            T(y(p10, -1));
        }
        C17542s.h(this, "null cannot be cast to non-null type T of androidx.compose.foundation.text.selection.BaseTextPreparedSelection");
        return this;
    }

    public final T R() {
        v().b();
        if (w().length() > 0) {
            U(0, w().length());
        }
        C17542s.h(this, "null cannot be cast to non-null type T of androidx.compose.foundation.text.selection.BaseTextPreparedSelection");
        return this;
    }

    public final T S() {
        if (w().length() > 0) {
            this.f6932f = X.b(W.n(this.f6928b), W.i(this.f6932f));
        }
        C17542s.h(this, "null cannot be cast to non-null type T of androidx.compose.foundation.text.selection.BaseTextPreparedSelection");
        return this;
    }

    /* access modifiers changed from: protected */
    public final void T(int i10) {
        U(i10, i10);
    }

    /* access modifiers changed from: protected */
    public final void U(int i10, int i11) {
        this.f6932f = X.b(i10, i11);
    }

    public final T b(C17642l<? super T, C16807N> lVar) {
        v().b();
        if (w().length() > 0) {
            if (W.h(this.f6932f)) {
                C17542s.h(this, "null cannot be cast to non-null type T of androidx.compose.foundation.text.selection.BaseTextPreparedSelection.collapseLeftOr$lambda$4");
                lVar.invoke(this);
            } else if (x()) {
                T(W.l(this.f6932f));
            } else {
                T(W.k(this.f6932f));
            }
        }
        C17542s.h(this, "null cannot be cast to non-null type T of androidx.compose.foundation.text.selection.BaseTextPreparedSelection");
        return this;
    }

    public final T c(C17642l<? super T, C16807N> lVar) {
        v().b();
        if (w().length() > 0) {
            if (W.h(this.f6932f)) {
                C17542s.h(this, "null cannot be cast to non-null type T of androidx.compose.foundation.text.selection.BaseTextPreparedSelection.collapseRightOr$lambda$5");
                lVar.invoke(this);
            } else if (x()) {
                T(W.k(this.f6932f));
            } else {
                T(W.l(this.f6932f));
            }
        }
        C17542s.h(this, "null cannot be cast to non-null type T of androidx.compose.foundation.text.selection.BaseTextPreparedSelection");
        return this;
    }

    public final T d() {
        v().b();
        if (w().length() > 0) {
            T(W.i(this.f6932f));
        }
        C17542s.h(this, "null cannot be cast to non-null type T of androidx.compose.foundation.text.selection.BaseTextPreparedSelection");
        return this;
    }

    public final C4669d e() {
        return this.f6933g;
    }

    public final Integer f() {
        P p10 = this.f6929c;
        if (p10 != null) {
            return Integer.valueOf(h(this, p10, 0, 1, (Object) null));
        }
        return null;
    }

    public final Integer i() {
        P p10 = this.f6929c;
        if (p10 != null) {
            return Integer.valueOf(k(this, p10, 0, 1, (Object) null));
        }
        return null;
    }

    public final int l() {
        return B0.H.a(this.f6933g.j(), W.i(this.f6932f));
    }

    public final Integer m() {
        P p10 = this.f6929c;
        if (p10 != null) {
            return Integer.valueOf(o(this, p10, 0, 1, (Object) null));
        }
        return null;
    }

    public final H p() {
        return this.f6930d;
    }

    public final int q() {
        return B0.H.b(this.f6933g.j(), W.i(this.f6932f));
    }

    public final Integer t() {
        P p10 = this.f6929c;
        if (p10 != null) {
            return Integer.valueOf(s(this, p10, 0, 1, (Object) null));
        }
        return null;
    }

    public final long u() {
        return this.f6932f;
    }

    public final U v() {
        return this.f6931e;
    }

    public final String w() {
        return this.f6933g.j();
    }

    public final T z() {
        P p10;
        if (w().length() > 0 && (p10 = this.f6929c) != null) {
            T(y(p10, 1));
        }
        C17542s.h(this, "null cannot be cast to non-null type T of androidx.compose.foundation.text.selection.BaseTextPreparedSelection");
        return this;
    }

    private C4524b(C4669d dVar, long j10, P p10, H h10, U u10) {
        this.f6927a = dVar;
        this.f6928b = j10;
        this.f6929c = p10;
        this.f6930d = h10;
        this.f6931e = u10;
        this.f6932f = j10;
        this.f6933g = dVar;
    }
}
