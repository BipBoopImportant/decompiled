package H0;

import B0.H;
import H0.C4538p;
import N1.P;
import N1.W;
import XH.C16824o;
import XH.C16825p;
import XH.s;
import kotlin.Metadata;
import kotlin.jvm.internal.C17544u;
import nI.C17631a;

@Metadata(d1 = {"\u0000.\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\b\u0003\n\u0002\u0010\b\n\u0000\n\u0002\u0010\u000b\n\u0002\b\n\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\b\u000e\u001a#\u0010\u0005\u001a\u00020\u0003*\u00020\u00002\u0006\u0010\u0002\u001a\u00020\u00012\u0006\u0010\u0004\u001a\u00020\u0003H\u0002¢\u0006\u0004\b\u0005\u0010\u0006\u001a#\u0010\u000b\u001a\u00020\t*\u00020\u00012\u0006\u0010\b\u001a\u00020\u00072\u0006\u0010\n\u001a\u00020\tH\u0002¢\u0006\u0004\b\u000b\u0010\f\u001a;\u0010\u0011\u001a\u00020\u0003*\u00020\u00012\u0006\u0010\r\u001a\u00020\u00072\u0006\u0010\u000e\u001a\u00020\u00072\u0006\u0010\u000f\u001a\u00020\u00072\u0006\u0010\n\u001a\u00020\t2\u0006\u0010\u0010\u001a\u00020\tH\u0002¢\u0006\u0004\b\u0011\u0010\u0012\u001a\u001f\u0010\u0017\u001a\u00020\u00162\u0006\u0010\u0013\u001a\u00020\u00002\u0006\u0010\u0015\u001a\u00020\u0014H\u0002¢\u0006\u0004\b\u0017\u0010\u0018\u001a3\u0010\u001a\u001a\u00020\u0003*\u00020\u00012\u0006\u0010\u0010\u001a\u00020\t2\u0006\u0010\n\u001a\u00020\t2\u0006\u0010\u0019\u001a\u00020\u00072\u0006\u0010\u0015\u001a\u00020\u0014H\u0002¢\u0006\u0004\b\u001a\u0010\u001b\u001a\u001b\u0010\u001c\u001a\u00020\u0016*\u00020\u00162\u0006\u0010\u0013\u001a\u00020\u0000H\u0000¢\u0006\u0004\b\u001c\u0010\u001d\u001a\u001b\u0010\u001e\u001a\u00020\u0016*\u00020\u00162\u0006\u0010\u0013\u001a\u00020\u0000H\u0002¢\u0006\u0004\b\u001e\u0010\u001d\u001a#\u0010 \u001a\u00020\u0003*\u00020\u00032\u0006\u0010\u0002\u001a\u00020\u00012\u0006\u0010\u001f\u001a\u00020\u0007H\u0002¢\u0006\u0004\b \u0010!¨\u0006$²\u0006\f\u0010\"\u001a\u00020\u00078\nX\u0002²\u0006\f\u0010#\u001a\u00020\u00038\nX\u0002"}, d2 = {"LH0/C;", "LH0/o;", "info", "LH0/p$a;", "previousSelectionAnchor", "l", "(LH0/C;LH0/o;LH0/p$a;)LH0/p$a;", "", "currentRawOffset", "", "isStart", "j", "(LH0/o;IZ)Z", "currentLine", "currentOffset", "otherOffset", "crossed", "k", "(LH0/o;IIIZZ)LH0/p$a;", "layout", "LH0/c;", "boundaryFunction", "LH0/p;", "e", "(LH0/C;LH0/c;)LH0/p;", "slot", "f", "(LH0/o;ZZILH0/c;)LH0/p$a;", "h", "(LH0/p;LH0/C;)LH0/p;", "i", "newOffset", "g", "(LH0/p$a;LH0/o;I)LH0/p$a;", "currentRawLine", "anchorSnappedToWordBoundary", "foundation_release"}, k = 2, mv = {1, 8, 0}, xi = 48)
/* renamed from: H0.w  reason: case insensitive filesystem */
public final class C4544w {

    @Metadata(d1 = {"\u0000\b\n\u0002\u0018\u0002\n\u0002\b\u0002\u0010\u0001\u001a\u00020\u0000H\n¢\u0006\u0004\b\u0001\u0010\u0002"}, d2 = {"LH0/p$a;", "b", "()LH0/p$a;"}, k = 3, mv = {1, 8, 0})
    /* renamed from: H0.w$a */
    static final class a extends C17544u implements C17631a<C4538p.a> {

        /* renamed from: c  reason: collision with root package name */
        final /* synthetic */ C4537o f6981c;

        /* renamed from: d  reason: collision with root package name */
        final /* synthetic */ int f6982d;

        /* renamed from: e  reason: collision with root package name */
        final /* synthetic */ int f6983e;

        /* renamed from: f  reason: collision with root package name */
        final /* synthetic */ C f6984f;

        /* renamed from: g  reason: collision with root package name */
        final /* synthetic */ C16824o<Integer> f6985g;

        /* JADX INFO: super call moved to the top of the method (can break code semantics) */
        a(C4537o oVar, int i10, int i11, C c10, C16824o<Integer> oVar2) {
            super(0);
            this.f6981c = oVar;
            this.f6982d = i10;
            this.f6983e = i11;
            this.f6984f = c10;
            this.f6985g = oVar2;
        }

        /* renamed from: b */
        public final C4538p.a invoke() {
            return C4544w.k(this.f6981c, C4544w.m(this.f6985g), this.f6982d, this.f6983e, this.f6984f.b(), this.f6984f.h() == C4527e.CROSSED);
        }
    }

    @Metadata(d1 = {"\u0000\b\n\u0002\u0010\b\n\u0002\b\u0002\u0010\u0001\u001a\u00020\u0000H\n¢\u0006\u0004\b\u0001\u0010\u0002"}, d2 = {"", "b", "()Ljava/lang/Integer;"}, k = 3, mv = {1, 8, 0})
    /* renamed from: H0.w$b */
    static final class b extends C17544u implements C17631a<Integer> {

        /* renamed from: c  reason: collision with root package name */
        final /* synthetic */ C4537o f6986c;

        /* renamed from: d  reason: collision with root package name */
        final /* synthetic */ int f6987d;

        /* JADX INFO: super call moved to the top of the method (can break code semantics) */
        b(C4537o oVar, int i10) {
            super(0);
            this.f6986c = oVar;
            this.f6987d = i10;
        }

        /* renamed from: b */
        public final Integer invoke() {
            return Integer.valueOf(this.f6986c.k().q(this.f6987d));
        }
    }

    /* access modifiers changed from: private */
    public static final C4538p e(C c10, C4525c cVar) {
        boolean z10 = c10.h() == C4527e.CROSSED;
        return new C4538p(f(c10.l(), z10, true, c10.m(), cVar), f(c10.j(), z10, false, c10.g(), cVar), z10);
    }

    private static final C4538p.a f(C4537o oVar, boolean z10, boolean z11, int i10, C4525c cVar) {
        int g10 = z11 ? oVar.g() : oVar.e();
        if (i10 != oVar.i()) {
            return oVar.a(g10);
        }
        long a10 = cVar.a(oVar, g10);
        return oVar.a(z10 ^ z11 ? W.n(a10) : W.i(a10));
    }

    private static final C4538p.a g(C4538p.a aVar, C4537o oVar, int i10) {
        return C4538p.a.b(aVar, oVar.k().c(i10), i10, 0, 4, (Object) null);
    }

    public static final C4538p h(C4538p pVar, C c10) {
        if (!E.d(pVar, c10)) {
            return pVar;
        }
        return (c10.a() > 1 || c10.i() == null || c10.c().c().length() == 0) ? pVar : i(pVar, c10);
    }

    private static final C4538p i(C4538p pVar, C c10) {
        C4537o c11 = c10.c();
        String c12 = c11.c();
        int g10 = c11.g();
        int length = c12.length();
        if (g10 == 0) {
            int a10 = H.a(c12, 0);
            if (c10.b()) {
                return C4538p.b(pVar, g(pVar.e(), c11, a10), (C4538p.a) null, true, 2, (Object) null);
            }
            return C4538p.b(pVar, (C4538p.a) null, g(pVar.c(), c11, a10), false, 1, (Object) null);
        } else if (g10 == length) {
            int b10 = H.b(c12, length);
            if (c10.b()) {
                return C4538p.b(pVar, g(pVar.e(), c11, b10), (C4538p.a) null, false, 2, (Object) null);
            }
            return C4538p.b(pVar, (C4538p.a) null, g(pVar.c(), c11, b10), true, 1, (Object) null);
        } else {
            C4538p i10 = c10.i();
            boolean z10 = i10 != null && i10.d();
            int b11 = c10.b() ^ z10 ? H.b(c12, g10) : H.a(c12, g10);
            if (c10.b()) {
                return C4538p.b(pVar, g(pVar.e(), c11, b11), (C4538p.a) null, z10, 2, (Object) null);
            }
            return C4538p.b(pVar, (C4538p.a) null, g(pVar.c(), c11, b11), z10, 1, (Object) null);
        }
    }

    private static final boolean j(C4537o oVar, int i10, boolean z10) {
        if (oVar.f() == -1) {
            return true;
        }
        if (i10 == oVar.f()) {
            return false;
        }
        if (z10 ^ (oVar.d() == C4527e.CROSSED)) {
            if (i10 < oVar.f()) {
                return true;
            }
        } else if (i10 > oVar.f()) {
            return true;
        }
        return false;
    }

    /* access modifiers changed from: private */
    public static final C4538p.a k(C4537o oVar, int i10, int i11, int i12, boolean z10, boolean z11) {
        long C10 = oVar.k().C(i11);
        int n10 = oVar.k().q(W.n(C10)) == i10 ? W.n(C10) : i10 >= oVar.k().n() ? oVar.k().u(oVar.k().n() - 1) : oVar.k().u(i10);
        int i13 = oVar.k().q(W.i(C10)) == i10 ? W.i(C10) : i10 >= oVar.k().n() ? P.p(oVar.k(), oVar.k().n() - 1, false, 2, (Object) null) : P.p(oVar.k(), i10, false, 2, (Object) null);
        if (n10 == i12) {
            return oVar.a(i13);
        }
        if (i13 == i12) {
            return oVar.a(n10);
        }
        if (!(z10 ^ z11) ? i11 >= n10 : i11 > i13) {
            n10 = i13;
        }
        return oVar.a(n10);
    }

    /* access modifiers changed from: private */
    public static final C4538p.a l(C c10, C4537o oVar, C4538p.a aVar) {
        int g10 = c10.b() ? oVar.g() : oVar.e();
        if ((c10.b() ? c10.m() : c10.g()) != oVar.i()) {
            return oVar.a(g10);
        }
        s sVar = s.NONE;
        C16824o a10 = C16825p.a(sVar, new b(oVar, g10));
        C16824o a11 = C16825p.a(sVar, new a(oVar, g10, c10.b() ? oVar.e() : oVar.g(), c10, a10));
        if (oVar.h() != aVar.e()) {
            return n(a11);
        }
        int f10 = oVar.f();
        if (g10 == f10) {
            return aVar;
        }
        if (m(a10) != oVar.k().q(f10)) {
            return n(a11);
        }
        int d10 = aVar.d();
        long C10 = oVar.k().C(d10);
        return !j(oVar, g10, c10.b()) ? oVar.a(g10) : (d10 == W.n(C10) || d10 == W.i(C10)) ? n(a11) : oVar.a(g10);
    }

    /* access modifiers changed from: private */
    public static final int m(C16824o<Integer> oVar) {
        return oVar.getValue().intValue();
    }

    private static final C4538p.a n(C16824o<C4538p.a> oVar) {
        return oVar.getValue();
    }
}
