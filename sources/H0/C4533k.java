package H0;

import E1.C4488v;
import H0.C4538p;
import N1.C4669d;
import N1.P;
import N1.W;
import N1.X;
import c2.r;
import java.util.List;
import kotlin.Metadata;
import kotlin.jvm.internal.DefaultConstructorMarker;
import nI.C17631a;
import o1.C5667g;
import o1.C5668h;
import o1.C5669i;
import tI.C17978n;

@Metadata(d1 = {"\u0000j\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0002\u0010\t\n\u0000\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\b\u0003\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0018\u0002\n\u0002\b\u0003\n\u0002\u0010\u000b\n\u0000\n\u0002\u0018\u0002\n\u0002\b\u0004\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0010\b\n\u0000\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0010\u0007\n\u0002\b\u0004\n\u0002\u0018\u0002\n\u0002\b\u0010\b\u0000\u0018\u00002\u00020\u0001B/\u0012\u0006\u0010\u0003\u001a\u00020\u0002\u0012\u000e\u0010\u0006\u001a\n\u0012\u0006\u0012\u0004\u0018\u00010\u00050\u0004\u0012\u000e\u0010\b\u001a\n\u0012\u0006\u0012\u0004\u0018\u00010\u00070\u0004¢\u0006\u0004\b\t\u0010\nJ\u0017\u0010\u000e\u001a\u00020\r2\u0006\u0010\f\u001a\u00020\u000bH\u0016¢\u0006\u0004\b\u000e\u0010\u000fJ\u0011\u0010\u0011\u001a\u0004\u0018\u00010\u0010H\u0016¢\u0006\u0004\b\u0011\u0010\u0012J%\u0010\u0017\u001a\u00020\u00162\u0006\u0010\u0013\u001a\u00020\u00102\u0006\u0010\u0015\u001a\u00020\u0014H\u0016ø\u0001\u0000ø\u0001\u0001¢\u0006\u0004\b\u0017\u0010\u0018J\u0011\u0010\u0019\u001a\u0004\u0018\u00010\u0005H\u0016¢\u0006\u0004\b\u0019\u0010\u001aJ\u000f\u0010\u001c\u001a\u00020\u001bH\u0016¢\u0006\u0004\b\u001c\u0010\u001dJ\u0017\u0010!\u001a\u00020 2\u0006\u0010\u001f\u001a\u00020\u001eH\u0016¢\u0006\u0004\b!\u0010\"J\u0017\u0010$\u001a\u00020#2\u0006\u0010\u001f\u001a\u00020\u001eH\u0016¢\u0006\u0004\b$\u0010%J\u0017\u0010&\u001a\u00020#2\u0006\u0010\u001f\u001a\u00020\u001eH\u0016¢\u0006\u0004\b&\u0010%J\u0017\u0010'\u001a\u00020#2\u0006\u0010\u001f\u001a\u00020\u001eH\u0016¢\u0006\u0004\b'\u0010%J\u001d\u0010)\u001a\u00020(2\u0006\u0010\u001f\u001a\u00020\u001eH\u0016ø\u0001\u0000ø\u0001\u0001¢\u0006\u0004\b)\u0010*J\u000f\u0010+\u001a\u00020\u001eH\u0016¢\u0006\u0004\b+\u0010,R\u001a\u0010\u0003\u001a\u00020\u00028\u0016X\u0004¢\u0006\f\n\u0004\b\u001c\u0010-\u001a\u0004\b.\u0010/R\u001c\u0010\u0006\u001a\n\u0012\u0006\u0012\u0004\u0018\u00010\u00050\u00048\u0002X\u0004¢\u0006\u0006\n\u0004\b&\u00100R\u001c\u0010\b\u001a\n\u0012\u0006\u0012\u0004\u0018\u00010\u00070\u00048\u0002X\u0004¢\u0006\u0006\n\u0004\b$\u00100R\u0018\u00103\u001a\u0004\u0018\u00010\u00078\u0002@\u0002X\u000e¢\u0006\u0006\n\u0004\b1\u00102R\u0016\u00105\u001a\u00020\u001e8\u0002@\u0002X\u000e¢\u0006\u0006\n\u0004\b!\u00104R\u0018\u00107\u001a\u00020\u001e*\u00020\u00078BX\u0004¢\u0006\u0006\u001a\u0004\b1\u00106\u0002\u000b\n\u0002\b!\n\u0005\b¡\u001e0\u0001¨\u00068"}, d2 = {"LH0/k;", "LH0/n;", "", "selectableId", "Lkotlin/Function0;", "LE1/v;", "coordinatesCallback", "LN1/P;", "layoutResultCallback", "<init>", "(JLnI/a;LnI/a;)V", "LH0/D;", "builder", "LXH/N;", "l", "(LH0/D;)V", "LH0/p;", "i", "()LH0/p;", "selection", "", "isStartHandle", "Lo1/g;", "k", "(LH0/p;Z)J", "x", "()LE1/v;", "LN1/d;", "a", "()LN1/d;", "", "offset", "Lo1/i;", "e", "(I)Lo1/i;", "", "c", "(I)F", "b", "g", "LN1/W;", "j", "(I)J", "f", "()I", "J", "h", "()J", "LnI/a;", "d", "LN1/P;", "_previousTextLayoutResult", "I", "_previousLastVisibleOffset", "(LN1/P;)I", "lastVisibleOffset", "foundation_release"}, k = 1, mv = {1, 8, 0}, xi = 48)
/* renamed from: H0.k  reason: case insensitive filesystem */
public final class C4533k implements C4536n {

    /* renamed from: a  reason: collision with root package name */
    private final long f6954a;

    /* renamed from: b  reason: collision with root package name */
    private final C17631a<C4488v> f6955b;

    /* renamed from: c  reason: collision with root package name */
    private final C17631a<P> f6956c;

    /* renamed from: d  reason: collision with root package name */
    private P f6957d;

    /* renamed from: e  reason: collision with root package name */
    private int f6958e = -1;

    public C4533k(long j10, C17631a<? extends C4488v> aVar, C17631a<P> aVar2) {
        this.f6954a = j10;
        this.f6955b = aVar;
        this.f6956c = aVar2;
    }

    private final synchronized int d(P p10) {
        int i10;
        try {
            if (this.f6957d != p10) {
                if (p10.f()) {
                    if (!p10.w().f()) {
                        int i11 = C17978n.i(p10.r((float) r.g(p10.B())), p10.n() - 1);
                        while (i11 >= 0 && p10.v(i11) >= ((float) r.g(p10.B()))) {
                            i11--;
                        }
                        i10 = C17978n.e(i11, 0);
                        this.f6958e = p10.o(i10, true);
                        this.f6957d = p10;
                    }
                }
                i10 = p10.n() - 1;
                this.f6958e = p10.o(i10, true);
                this.f6957d = p10;
            }
        } catch (Throwable th2) {
            while (true) {
                throw th2;
            }
        }
        return this.f6958e;
    }

    public C4669d a() {
        P invoke = this.f6956c.invoke();
        return invoke == null ? new C4669d("", (List) null, (List) null, 6, (DefaultConstructorMarker) null) : invoke.l().j();
    }

    public float b(int i10) {
        int q10;
        P invoke = this.f6956c.invoke();
        if (invoke != null && (q10 = invoke.q(i10)) < invoke.n()) {
            return invoke.t(q10);
        }
        return -1.0f;
    }

    public float c(int i10) {
        int q10;
        P invoke = this.f6956c.invoke();
        if (invoke != null && (q10 = invoke.q(i10)) < invoke.n()) {
            return invoke.s(q10);
        }
        return -1.0f;
    }

    public C5669i e(int i10) {
        P invoke = this.f6956c.invoke();
        if (invoke == null) {
            return C5669i.f26706e.a();
        }
        int length = invoke.l().j().length();
        return length < 1 ? C5669i.f26706e.a() : invoke.d(C17978n.m(i10, 0, length - 1));
    }

    public int f() {
        P invoke = this.f6956c.invoke();
        if (invoke == null) {
            return 0;
        }
        return d(invoke);
    }

    public float g(int i10) {
        int q10;
        P invoke = this.f6956c.invoke();
        if (invoke == null || (q10 = invoke.q(i10)) >= invoke.n()) {
            return -1.0f;
        }
        float v10 = invoke.v(q10);
        return ((invoke.m(q10) - v10) / ((float) 2)) + v10;
    }

    public long h() {
        return this.f6954a;
    }

    public C4538p i() {
        P invoke = this.f6956c.invoke();
        if (invoke == null) {
            return null;
        }
        int length = invoke.l().j().length();
        return new C4538p(new C4538p.a(invoke.c(0), 0, h()), new C4538p.a(invoke.c(Math.max(length - 1, 0)), length, h()), false);
    }

    public long j(int i10) {
        P invoke = this.f6956c.invoke();
        if (invoke == null) {
            return W.f9419b.a();
        }
        int d10 = d(invoke);
        if (d10 < 1) {
            return W.f9419b.a();
        }
        int q10 = invoke.q(C17978n.m(i10, 0, d10 - 1));
        return X.b(invoke.u(q10), invoke.o(q10, true));
    }

    public long k(C4538p pVar, boolean z10) {
        if ((z10 && pVar.e().e() != h()) || (!z10 && pVar.c().e() != h())) {
            return C5667g.f26701b.b();
        }
        if (x() == null) {
            return C5667g.f26701b.b();
        }
        P invoke = this.f6956c.invoke();
        if (invoke == null) {
            return C5667g.f26701b.b();
        }
        return X.b(invoke, C17978n.m((z10 ? pVar.e() : pVar.c()).d(), 0, d(invoke)), z10, pVar.d());
    }

    public void l(D d10) {
        P invoke;
        C4488v x10 = x();
        if (x10 != null && (invoke = this.f6956c.invoke()) != null) {
            C4488v c10 = d10.c();
            C5667g.a aVar = C5667g.f26701b;
            long E10 = c10.E(x10, aVar.c());
            C4534l.a(d10, invoke, C5667g.q(d10.d(), E10), C5668h.d(d10.e()) ? aVar.b() : C5667g.q(d10.e(), E10), h());
        }
    }

    public C4488v x() {
        C4488v invoke = this.f6955b.invoke();
        if (invoke == null || !invoke.c()) {
            return null;
        }
        return invoke;
    }
}
