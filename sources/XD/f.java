package xd;

import java.lang.reflect.Array;
import java.nio.charset.Charset;
import java.util.ArrayList;
import java.util.List;
import ld.h;
import od.C10104a;
import od.C10107d;
import wd.C10359a;
import wd.C10360b;
import wd.C10361c;

final class f {
    /* access modifiers changed from: private */

    /* renamed from: a  reason: collision with root package name */
    public final String f77725a;
    /* access modifiers changed from: private */

    /* renamed from: b  reason: collision with root package name */
    public final boolean f77726b;
    /* access modifiers changed from: private */

    /* renamed from: c  reason: collision with root package name */
    public final C10107d f77727c;
    /* access modifiers changed from: private */

    /* renamed from: d  reason: collision with root package name */
    public final C10359a f77728d;

    static /* synthetic */ class a {

        /* renamed from: a  reason: collision with root package name */
        static final /* synthetic */ int[] f77729a;

        /* renamed from: b  reason: collision with root package name */
        static final /* synthetic */ int[] f77730b;

        /* JADX WARNING: Can't wrap try/catch for region: R(17:0|(2:1|2)|3|(2:5|6)|7|9|10|11|12|13|14|15|17|18|19|20|(3:21|22|24)) */
        /* JADX WARNING: Can't wrap try/catch for region: R(18:0|(2:1|2)|3|5|6|7|9|10|11|12|13|14|15|17|18|19|20|(3:21|22|24)) */
        /* JADX WARNING: Can't wrap try/catch for region: R(21:0|1|2|3|5|6|7|9|10|11|12|13|14|15|17|18|19|20|21|22|24) */
        /* JADX WARNING: Failed to process nested try/catch */
        /* JADX WARNING: Missing exception handler attribute for start block: B:11:0x0028 */
        /* JADX WARNING: Missing exception handler attribute for start block: B:13:0x0033 */
        /* JADX WARNING: Missing exception handler attribute for start block: B:19:0x004f */
        /* JADX WARNING: Missing exception handler attribute for start block: B:21:0x0059 */
        static {
            /*
                wd.b[] r0 = wd.C10360b.values()
                int r0 = r0.length
                int[] r0 = new int[r0]
                f77730b = r0
                r1 = 1
                wd.b r2 = wd.C10360b.KANJI     // Catch:{ NoSuchFieldError -> 0x0012 }
                int r2 = r2.ordinal()     // Catch:{ NoSuchFieldError -> 0x0012 }
                r0[r2] = r1     // Catch:{ NoSuchFieldError -> 0x0012 }
            L_0x0012:
                r0 = 2
                int[] r2 = f77730b     // Catch:{ NoSuchFieldError -> 0x001d }
                wd.b r3 = wd.C10360b.ALPHANUMERIC     // Catch:{ NoSuchFieldError -> 0x001d }
                int r3 = r3.ordinal()     // Catch:{ NoSuchFieldError -> 0x001d }
                r2[r3] = r0     // Catch:{ NoSuchFieldError -> 0x001d }
            L_0x001d:
                r2 = 3
                int[] r3 = f77730b     // Catch:{ NoSuchFieldError -> 0x0028 }
                wd.b r4 = wd.C10360b.NUMERIC     // Catch:{ NoSuchFieldError -> 0x0028 }
                int r4 = r4.ordinal()     // Catch:{ NoSuchFieldError -> 0x0028 }
                r3[r4] = r2     // Catch:{ NoSuchFieldError -> 0x0028 }
            L_0x0028:
                int[] r3 = f77730b     // Catch:{ NoSuchFieldError -> 0x0033 }
                wd.b r4 = wd.C10360b.BYTE     // Catch:{ NoSuchFieldError -> 0x0033 }
                int r4 = r4.ordinal()     // Catch:{ NoSuchFieldError -> 0x0033 }
                r5 = 4
                r3[r4] = r5     // Catch:{ NoSuchFieldError -> 0x0033 }
            L_0x0033:
                int[] r3 = f77730b     // Catch:{ NoSuchFieldError -> 0x003e }
                wd.b r4 = wd.C10360b.ECI     // Catch:{ NoSuchFieldError -> 0x003e }
                int r4 = r4.ordinal()     // Catch:{ NoSuchFieldError -> 0x003e }
                r5 = 5
                r3[r4] = r5     // Catch:{ NoSuchFieldError -> 0x003e }
            L_0x003e:
                xd.f$d[] r3 = xd.f.d.values()
                int r3 = r3.length
                int[] r3 = new int[r3]
                f77729a = r3
                xd.f$d r4 = xd.f.d.SMALL     // Catch:{ NoSuchFieldError -> 0x004f }
                int r4 = r4.ordinal()     // Catch:{ NoSuchFieldError -> 0x004f }
                r3[r4] = r1     // Catch:{ NoSuchFieldError -> 0x004f }
            L_0x004f:
                int[] r1 = f77729a     // Catch:{ NoSuchFieldError -> 0x0059 }
                xd.f$d r3 = xd.f.d.MEDIUM     // Catch:{ NoSuchFieldError -> 0x0059 }
                int r3 = r3.ordinal()     // Catch:{ NoSuchFieldError -> 0x0059 }
                r1[r3] = r0     // Catch:{ NoSuchFieldError -> 0x0059 }
            L_0x0059:
                int[] r0 = f77729a     // Catch:{ NoSuchFieldError -> 0x0063 }
                xd.f$d r1 = xd.f.d.LARGE     // Catch:{ NoSuchFieldError -> 0x0063 }
                int r1 = r1.ordinal()     // Catch:{ NoSuchFieldError -> 0x0063 }
                r0[r1] = r2     // Catch:{ NoSuchFieldError -> 0x0063 }
            L_0x0063:
                return
            */
            throw new UnsupportedOperationException("Method not decompiled: xd.f.a.<clinit>():void");
        }
    }

    private final class b {
        /* access modifiers changed from: private */

        /* renamed from: a  reason: collision with root package name */
        public final C10360b f77731a;
        /* access modifiers changed from: private */

        /* renamed from: b  reason: collision with root package name */
        public final int f77732b;
        /* access modifiers changed from: private */

        /* renamed from: c  reason: collision with root package name */
        public final int f77733c;
        /* access modifiers changed from: private */

        /* renamed from: d  reason: collision with root package name */
        public final int f77734d;
        /* access modifiers changed from: private */

        /* renamed from: e  reason: collision with root package name */
        public final b f77735e;
        /* access modifiers changed from: private */

        /* renamed from: f  reason: collision with root package name */
        public final int f77736f;

        /* synthetic */ b(f fVar, C10360b bVar, int i10, int i11, int i12, b bVar2, C10361c cVar, a aVar) {
            this(bVar, i10, i11, i12, bVar2, cVar);
        }

        private b(C10360b bVar, int i10, int i11, int i12, b bVar2, C10361c cVar) {
            this.f77731a = bVar;
            this.f77732b = i10;
            C10360b bVar3 = C10360b.BYTE;
            int i13 = (bVar == bVar3 || bVar2 == null) ? i11 : bVar2.f77733c;
            this.f77733c = i13;
            this.f77734d = i12;
            this.f77735e = bVar2;
            boolean z10 = false;
            int i14 = bVar2 != null ? bVar2.f77736f : 0;
            if ((bVar == bVar3 && bVar2 == null && i13 != 0) || !(bVar2 == null || i13 == bVar2.f77733c)) {
                z10 = true;
            }
            int i15 = 4;
            i14 = (bVar2 == null || bVar != bVar2.f77731a || z10) ? i14 + bVar.j(cVar) + 4 : i14;
            int i16 = a.f77730b[bVar.ordinal()];
            if (i16 == 1) {
                i14 += 13;
            } else if (i16 == 2) {
                i14 += i12 == 1 ? 6 : 11;
            } else if (i16 == 3) {
                i14 += i12 != 1 ? i12 == 2 ? 7 : 10 : i15;
            } else if (i16 == 4) {
                i14 += f.this.f77727c.c(f.this.f77725a.substring(i10, i12 + i10), i11).length * 8;
                if (z10) {
                    i14 += 12;
                }
            }
            this.f77736f = i14;
        }
    }

    final class c {

        /* renamed from: a  reason: collision with root package name */
        private final List<a> f77738a = new ArrayList();
        /* access modifiers changed from: private */

        /* renamed from: b  reason: collision with root package name */
        public final C10361c f77739b;

        final class a {
            /* access modifiers changed from: private */

            /* renamed from: a  reason: collision with root package name */
            public final C10360b f77741a;

            /* renamed from: b  reason: collision with root package name */
            private final int f77742b;

            /* renamed from: c  reason: collision with root package name */
            private final int f77743c;

            /* renamed from: d  reason: collision with root package name */
            private final int f77744d;

            a(C10360b bVar, int i10, int i11, int i12) {
                this.f77741a = bVar;
                this.f77742b = i10;
                this.f77743c = i11;
                this.f77744d = i12;
            }

            /* access modifiers changed from: private */
            public void d(C10104a aVar) {
                aVar.c(this.f77741a.b(), 4);
                if (this.f77744d > 0) {
                    aVar.c(e(), this.f77741a.j(c.this.f77739b));
                }
                if (this.f77741a == C10360b.ECI) {
                    aVar.c(f.this.f77727c.e(this.f77743c), 8);
                } else if (this.f77744d > 0) {
                    String b10 = f.this.f77725a;
                    int i10 = this.f77742b;
                    c.c(b10.substring(i10, this.f77744d + i10), this.f77741a, aVar, f.this.f77727c.d(this.f77743c));
                }
            }

            private int e() {
                if (this.f77741a != C10360b.BYTE) {
                    return this.f77744d;
                }
                C10107d c10 = f.this.f77727c;
                String b10 = f.this.f77725a;
                int i10 = this.f77742b;
                return c10.c(b10.substring(i10, this.f77744d + i10), this.f77743c).length;
            }

            /* access modifiers changed from: private */
            public int f(C10361c cVar) {
                int i10;
                int i11;
                int j10 = this.f77741a.j(cVar);
                int i12 = j10 + 4;
                int i13 = a.f77730b[this.f77741a.ordinal()];
                if (i13 != 1) {
                    int i14 = 0;
                    if (i13 == 2) {
                        int i15 = this.f77744d;
                        i11 = i12 + ((i15 / 2) * 11);
                        if (i15 % 2 == 1) {
                            i14 = 6;
                        }
                    } else if (i13 == 3) {
                        int i16 = this.f77744d;
                        i11 = i12 + ((i16 / 3) * 10);
                        int i17 = i16 % 3;
                        if (i17 == 1) {
                            i14 = 4;
                        } else if (i17 == 2) {
                            i14 = 7;
                        }
                    } else if (i13 != 4) {
                        return i13 != 5 ? i12 : j10 + 12;
                    } else {
                        i10 = e() * 8;
                    }
                    return i11 + i14;
                }
                i10 = this.f77744d * 13;
                return i12 + i10;
            }

            private String g(String str) {
                StringBuilder sb2 = new StringBuilder();
                for (int i10 = 0; i10 < str.length(); i10++) {
                    if (str.charAt(i10) < ' ' || str.charAt(i10) > '~') {
                        sb2.append('.');
                    } else {
                        sb2.append(str.charAt(i10));
                    }
                }
                return sb2.toString();
            }

            public String toString() {
                StringBuilder sb2 = new StringBuilder();
                sb2.append(this.f77741a);
                sb2.append('(');
                if (this.f77741a == C10360b.ECI) {
                    sb2.append(f.this.f77727c.d(this.f77743c).displayName());
                } else {
                    String b10 = f.this.f77725a;
                    int i10 = this.f77742b;
                    sb2.append(g(b10.substring(i10, this.f77744d + i10)));
                }
                sb2.append(')');
                return sb2.toString();
            }
        }

        c(C10361c cVar, b bVar) {
            int i10;
            int i11;
            C10360b bVar2;
            int i12 = 0;
            int i13 = 0;
            boolean z10 = false;
            while (true) {
                i10 = 1;
                if (bVar == null) {
                    break;
                }
                int a10 = i13 + bVar.f77734d;
                b e10 = bVar.f77735e;
                boolean z11 = (bVar.f77731a == C10360b.BYTE && e10 == null && bVar.f77733c != 0) || !(e10 == null || bVar.f77733c == e10.f77733c);
                z10 = z11 ? true : z10;
                if (e10 == null || e10.f77731a != bVar.f77731a || z11) {
                    this.f77738a.add(0, new a(bVar.f77731a, bVar.f77732b, bVar.f77733c, a10));
                    a10 = 0;
                }
                if (z11) {
                    this.f77738a.add(0, new a(C10360b.ECI, bVar.f77732b, bVar.f77733c, 0));
                }
                bVar = e10;
                i13 = a10;
            }
            if (f.this.f77726b) {
                a aVar = this.f77738a.get(0);
                if (!(aVar == null || aVar.f77741a == (bVar2 = C10360b.ECI) || !z10)) {
                    this.f77738a.add(0, new a(bVar2, 0, 0, 0));
                }
                this.f77738a.add(this.f77738a.get(0).f77741a == C10360b.ECI ? 1 : i12, new a(C10360b.FNC1_FIRST_POSITION, 0, 0, 0));
            }
            int f10 = cVar.f();
            int i14 = a.f77729a[f.m(cVar).ordinal()];
            if (i14 == 1) {
                i11 = 9;
            } else if (i14 != 2) {
                i10 = 27;
                i11 = 40;
            } else {
                i10 = 10;
                i11 = 26;
            }
            int d10 = d(cVar);
            while (f10 < i11 && !c.v(d10, C10361c.e(f10), f.this.f77728d)) {
                f10++;
            }
            while (f10 > i10 && c.v(d10, C10361c.e(f10 - 1), f.this.f77728d)) {
                f10--;
            }
            this.f77739b = C10361c.e(f10);
        }

        private int d(C10361c cVar) {
            int i10 = 0;
            for (a b10 : this.f77738a) {
                i10 += b10.f(cVar);
            }
            return i10;
        }

        /* access modifiers changed from: package-private */
        public void b(C10104a aVar) {
            for (a c10 : this.f77738a) {
                c10.d(aVar);
            }
        }

        /* access modifiers changed from: package-private */
        public int c() {
            return d(this.f77739b);
        }

        /* access modifiers changed from: package-private */
        public C10361c e() {
            return this.f77739b;
        }

        public String toString() {
            StringBuilder sb2 = new StringBuilder();
            a aVar = null;
            for (a next : this.f77738a) {
                if (aVar != null) {
                    sb2.append(",");
                }
                sb2.append(next.toString());
                aVar = next;
            }
            return sb2.toString();
        }
    }

    private enum d {
        SMALL("version 1-9"),
        MEDIUM("version 10-26"),
        LARGE("version 27-40");
        
        private final String description;

        private d(String str) {
            this.description = str;
        }

        public String toString() {
            return this.description;
        }
    }

    f(String str, Charset charset, boolean z10, C10359a aVar) {
        this.f77725a = str;
        this.f77726b = z10;
        this.f77727c = new C10107d(str, charset, -1);
        this.f77728d = aVar;
    }

    static c h(String str, C10361c cVar, Charset charset, boolean z10, C10359a aVar) {
        return new f(str, charset, z10, aVar).i(cVar);
    }

    static int k(C10360b bVar) {
        int i10;
        if (bVar == null || (i10 = a.f77730b[bVar.ordinal()]) == 1) {
            return 0;
        }
        if (i10 == 2) {
            return 1;
        }
        if (i10 == 3) {
            return 2;
        }
        if (i10 == 4) {
            return 3;
        }
        throw new IllegalStateException("Illegal mode " + bVar);
    }

    static C10361c l(d dVar) {
        int i10 = a.f77729a[dVar.ordinal()];
        return i10 != 1 ? i10 != 2 ? C10361c.e(40) : C10361c.e(26) : C10361c.e(9);
    }

    static d m(C10361c cVar) {
        return cVar.f() <= 9 ? d.SMALL : cVar.f() <= 26 ? d.MEDIUM : d.LARGE;
    }

    static boolean n(char c10) {
        return c.p(c10) != -1;
    }

    static boolean o(char c10) {
        return c.s(String.valueOf(c10));
    }

    static boolean p(char c10) {
        return c10 >= '0' && c10 <= '9';
    }

    /* access modifiers changed from: package-private */
    public void e(b[][][] bVarArr, int i10, b bVar) {
        b[] bVarArr2 = bVarArr[i10 + bVar.f77734d][bVar.f77733c];
        int k10 = k(bVar.f77731a);
        b bVar2 = bVarArr2[k10];
        if (bVar2 == null || bVar2.f77736f > bVar.f77736f) {
            bVarArr2[k10] = bVar;
        }
    }

    /* access modifiers changed from: package-private */
    public void f(C10361c cVar, b[][][] bVarArr, int i10, b bVar) {
        int i11;
        b[][][] bVarArr2 = bVarArr;
        int i12 = i10;
        int g10 = this.f77727c.g();
        int f10 = this.f77727c.f();
        if (f10 < 0 || !this.f77727c.a(this.f77725a.charAt(i12), f10)) {
            f10 = 0;
        } else {
            g10 = f10 + 1;
        }
        int i13 = g10;
        for (int i14 = f10; i14 < i13; i14++) {
            if (this.f77727c.a(this.f77725a.charAt(i12), i14)) {
                e(bVarArr2, i12, new b(this, C10360b.BYTE, i10, i14, 1, bVar, cVar, (a) null));
            }
        }
        C10360b bVar2 = C10360b.KANJI;
        if (g(bVar2, this.f77725a.charAt(i12))) {
            e(bVarArr2, i12, new b(this, bVar2, i10, 0, 1, bVar, cVar, (a) null));
        }
        int length = this.f77725a.length();
        C10360b bVar3 = C10360b.ALPHANUMERIC;
        if (g(bVar3, this.f77725a.charAt(i12))) {
            int i15 = i12 + 1;
            e(bVarArr2, i12, new b(this, bVar3, i10, 0, (i15 >= length || !g(bVar3, this.f77725a.charAt(i15))) ? 1 : 2, bVar, cVar, (a) null));
        }
        C10360b bVar4 = C10360b.NUMERIC;
        if (g(bVar4, this.f77725a.charAt(i12))) {
            int i16 = i12 + 1;
            if (i16 >= length || !g(bVar4, this.f77725a.charAt(i16))) {
                i11 = 1;
            } else {
                int i17 = i12 + 2;
                i11 = (i17 >= length || !g(bVar4, this.f77725a.charAt(i17))) ? 2 : 3;
            }
            e(bVarArr2, i12, new b(this, bVar4, i10, 0, i11, bVar, cVar, (a) null));
        }
    }

    /* access modifiers changed from: package-private */
    public boolean g(C10360b bVar, char c10) {
        int i10 = a.f77730b[bVar.ordinal()];
        return i10 != 1 ? i10 != 2 ? i10 != 3 ? i10 == 4 : p(c10) : n(c10) : o(c10);
    }

    /* access modifiers changed from: package-private */
    public c i(C10361c cVar) {
        if (cVar == null) {
            C10361c[] cVarArr = {l(d.SMALL), l(d.MEDIUM), l(d.LARGE)};
            c[] cVarArr2 = {j(cVarArr[0]), j(cVarArr[1]), j(cVarArr[2])};
            int i10 = Integer.MAX_VALUE;
            int i11 = -1;
            for (int i12 = 0; i12 < 3; i12++) {
                int c10 = cVarArr2[i12].c();
                if (c.v(c10, cVarArr[i12], this.f77728d) && c10 < i10) {
                    i11 = i12;
                    i10 = c10;
                }
            }
            if (i11 >= 0) {
                return cVarArr2[i11];
            }
            throw new h("Data too big for any version");
        }
        c j10 = j(cVar);
        if (c.v(j10.c(), l(m(j10.e())), this.f77728d)) {
            return j10;
        }
        throw new h("Data too big for version" + cVar);
    }

    /* access modifiers changed from: package-private */
    public c j(C10361c cVar) {
        int length = this.f77725a.length();
        int g10 = this.f77727c.g();
        int[] iArr = new int[3];
        iArr[2] = 4;
        iArr[1] = g10;
        iArr[0] = length + 1;
        b[][][] bVarArr = (b[][][]) Array.newInstance(b.class, iArr);
        f(cVar, bVarArr, 0, (b) null);
        for (int i10 = 1; i10 <= length; i10++) {
            for (int i11 = 0; i11 < this.f77727c.g(); i11++) {
                for (int i12 = 0; i12 < 4; i12++) {
                    b bVar = bVarArr[i10][i11][i12];
                    if (bVar != null && i10 < length) {
                        f(cVar, bVarArr, i10, bVar);
                    }
                }
            }
        }
        int i13 = -1;
        int i14 = Integer.MAX_VALUE;
        int i15 = -1;
        for (int i16 = 0; i16 < this.f77727c.g(); i16++) {
            for (int i17 = 0; i17 < 4; i17++) {
                b bVar2 = bVarArr[length][i16][i17];
                if (bVar2 != null && bVar2.f77736f < i14) {
                    i14 = bVar2.f77736f;
                    i13 = i16;
                    i15 = i17;
                }
            }
        }
        if (i13 >= 0) {
            return new c(cVar, bVarArr[length][i13][i15]);
        }
        throw new h("Internal error: failed to encode \"" + this.f77725a + "\"");
    }
}
